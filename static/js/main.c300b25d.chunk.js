(this.webpackJsonpconsult=this.webpackJsonpconsult||[]).push([[1],{1002:function(e,t){},1014:function(e,t,n){var a={"./w/MetaGame\u2019s Builders/on/-3/\u264b/7/@/1/26/\u2012/1/78/js":[913,0],"./w/MetaGame\u2019s Builders/on/-3/\u264c/1/@/1/27/\u2012/1/77/js":[321],"./w/MetaGame\u2019s Builders/on/1442/12/25/@/1/27/\u2012/1/77/js":[321],"./w/MetaGame\u2019s Builders/on/1442/Dhu\u02bbl-Hijjah/25/@/1/27/\u2012/1/77/js":[321],"./w/MetaGame\u2019s Builders/on/1442/\u0630\u0648 \u0627\u0644\u062d\u062c\u0629/25/@/1/27/\u2012/1/77/js":[321],"./w/MetaGame\u2019s Builders/on/2021/07/14/@/10/00/\u1d07\u1d1b/\u2012/11/30/\u1d07\u1d1b/js":[913,0],"./w/Raid Guild/cleric/@joshsdoug/1/js":[671],"./w/Raid Guild/on/0/\u2648/15/@/9/13/\u2012/9/52/js":[671]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=1014,e.exports=r},1026:function(e,t){},1027:function(e,t){},1086:function(e,t){},1092:function(e,t){},1103:function(e,t){},1104:function(e,t){},1287:function(e,t){},1289:function(e,t){},1301:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(381),i=n.n(s),o=n(1338),u=n(1),l=n.n(u),d=n(122),j=n(23),p=n(258),b=n.n(p),f=n(162),m=n(1341),h=n(1328),O=n(1323),g=n(74),x=n(42),v=n(60),A=n(1327),S=n(56),w=n(909),k=n(1321),T=n(1322),E=n(360),C=n(131),P=n(18),R=["chapter","active","head","paused","seekTo","index","video"],D=function(e){var t=e.chapter,n=e.active,a=void 0!==n&&n,c=e.head,s=e.paused,i=void 0===s||s,o=e.seekTo,u=e.index,l=e.video,d=Object(w.a)(e,R),p=t.name,b=t.tags,f=void 0===b?[]:b,h=t.end,g=t.start,x=Object(r.useState)(null),v=Object(j.a)(x,2),A=v[0],D=v[1],B=Object(r.useRef)(null),M=function(e){a&&!l.paused?l.pause():a&&l.paused?l.play():a||(l.currentTime=e.start+.01,l.paused&&l.play())},y=null;if(a){var F=(c-g)/(h-g)*100;y="linear-gradient(\n        to right, red, red ".concat(F,"%,\n        transparent ").concat(F+1,"%\n      )")}A&&(y="linear-gradient(\n        to right, #ff9b37BB, #ff9b37BB ".concat(A,"%,\n        transparent ").concat(A+1,"%\n      )\n      ").concat(y?", ".concat(y):""));var U=!a||(null===l||void 0===l?void 0:l.paused)?"data:image/png;base64,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":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAFjAAABYwGNYDK3AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAj1JREFUSIntlstOFEEUhr9TXd09ExiuwWRQYUGC4NKQuHKlJu58CTD6TsQX4A28rHRtXIGXIDGCeCEgMyAzVdV1XAwMEBmMOuzmX9bf53ynuhbnF4BKJZ8mmoUI10ATuiopDLzBxMV6vflOKpV8WtQu9qU6YRARou8mTjFpVNV60A8i8aElmoWS1erNMat3L5uNgUxCN4E1p/bpRhx/+aWoNgvmTYQZAe6My2a3YQADmYTbV2QTIMKsBckULSq5+e1X1p1ap2JOniUm6lDa+nbPa9KMcurNBRjJcaegqfGoFiCZ7TTZ66049ORzMdEIYlttAJSS1XB/kjVrJC6tFVP7Ls0Qadflxhf3JuTj3KjZPqtvR+D3hpZ+uFLuwqU0IVWAgJNGsRV2mo0MYM9l+UGoplZafkGQwnwNOwct/6+AAKqJVLLrfiS/4VpDvMh9sdO+jiL0pVfDWOlWE2C7+SprhG+mUz+Ac82LUA/YA/aAPWAP+P86d1sISt2/TX/6VQsQ1EuWaDj2I/v+k22GpQRa6ykzem5q6AgcLovrswcuKdbj0VkGlG0Iw7lxCvRb72BDOdzAKVBOvB8uG9ehbWfg3KjZnuqnHo/X/WGB0cHDOPJoluUAAtr2DUaHz4grJ4DqBElqPqZHWaV9yzMLj5998A/+kWo+pogkEJ0xsKLA83Wt7vqYdprsX7XrY/psXauHoyy3gjDJ44qVSRHEdDkIx1YQjnUvq2LCA4F21J+PMHNBUX9FkrhYqzXf/wLIlPPPTOCZTAAAAABJRU5ErkJggg==";return Object(P.jsxs)(k.f,Object(S.a)(Object(S.a)(Object(S.a)({align:"center"},Object(C.a)(t)),d),{},{sx:{cursor:"url(".concat(U,"), auto"),a:{textDecoration:"underline"}},children:[Object(P.jsx)(k.c,{onClick:function(){return M(t)},children:u}),Object(P.jsx)(k.c,{ref:B,bg:y,onClick:function(e){if(B.current){var n=e.target.getBoundingClientRect();o(t.start+(t.end-t.start)*((e.clientX-n.left)/n.width)),l.paused&&l.play()}},onMouseMove:function(e){var t=e.target.getBoundingClientRect();D(100*Math.max(0,(e.clientX-t.left)/t.width))},onMouseOut:function(){return D(null)},cursor:"col-resize",children:"".concat(Object(C.b)(g)).concat(h?"+".concat(Object(C.b)(h-g)):"\u2012")}),Object(P.jsx)(k.c,{onClick:function(){return M(t)},children:Object(P.jsx)(E.a,{children:p})}),Object(P.jsx)(k.c,{onClick:function(){return M(t)},children:Object(P.jsx)(m.a,{children:f.map((function(e,n){return Object(P.jsx)(T.a,Object(S.a)(Object(S.a)({style:{textAlign:"center"},border:"2px solid #00000066"},Object(C.a)(t)),{},{display:"block",pt:.5,children:e}),n)}))})}),Object(P.jsx)(k.c,{onClick:function(){return M(t)},children:g<c&&c<h&&!i?Object(P.jsx)(O.a,{}):i?"\u25b6\ufe0f":"\u23f8\ufe0f"})]}))},B=function(e){var t=e.chapters,n=void 0===t?[]:t,a=e.allTags,r=void 0===a?[]:a,c=e.activeTags,s=e.time,i=e.activeChapter,o=e.video,u=e.seekTo;return Object(P.jsxs)(k.a,{maxH:"100vh",overflow:"scroll",sx:{th:{textAlign:"center"}},children:[Object(P.jsx)(k.e,{children:Object(P.jsxs)(k.f,{children:[Object(P.jsx)(k.d,{children:"Index"}),Object(P.jsx)(k.d,{children:"Time"}),Object(P.jsx)(k.d,{children:"Name"}),Object(P.jsx)(k.d,{children:"Tags"}),Object(P.jsx)(k.d,{children:"Active"})]})}),Object(P.jsx)(k.b,{children:n.map((function(e,t){var n;return r.length>0&&!(null===(n=e.tags)||void 0===n?void 0:n.some((function(e){return c[e]})))?null:Object(P.jsx)(D,{index:t,head:s,active:i===e,video:o,chapter:e,seekTo:u,paused:!o||o.paused},t)}))})]})},M=n(25),y=n(907),F=n(1324),U=n(1339),V=n(1326),I=function(e){var t=e.allTags,n=e.activeTags,a=e.setActiveTags;return 0===t.length?null:Object(P.jsx)(y.a,{colorScheme:"green",children:Object(P.jsxs)(F.a,{children:[Object(P.jsx)(U.a,{px:8,onChange:function(e){return a(Object.fromEntries(t.map((function(t){return[t,e.target.checked]}))))}}),Object(P.jsx)(V.a,{children:t.map((function(e,t){return Object(P.jsx)(T.a,Object(S.a)(Object(S.a)({border:"2px solid #00000066"},Object(C.a)(e)),{},{children:Object(P.jsx)(U.a,{isChecked:n[e],onChange:function(t){return a((function(n){return Object(S.a)(Object(S.a)({},n),{},Object(M.a)({},e,t.target.checked))}))},children:e},t)}),t)}))})]})})},L=["pitch","pertinent"],N=Object(v.a)("video"),W=function(e){var t,n,a=e.stops,c=void 0===a?{}:a,s=e.title,i=e.src,o=Object(r.useRef)(),u=Object(r.useRef)(),l=Object(r.useState)(Object.fromEntries(L.map((function(e){return[e,!0]})))),d=Object(j.a)(l,2),p=d[0],b=d[1],f=Object(r.useState)(0),m=Object(j.a)(f,2),O=m[0],g=m[1],v=Object(r.useState)(Object.values(c)),S=Object(j.a)(v,2),w=S[0],k=S[1],T=function(e){o.current.currentTime=e};Object(r.useEffect)((function(){var e;k(Object.entries(c).map((function(t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return r.start=Object(C.c)(a),e&&(e.end=r.start),e=r})))}),[c]),Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("chapter");e&&T(w[parseInt(e)].start)}),[w]),Object(r.useEffect)((function(){var e=o.current,t=function(e){var t,n=e.target.currentTime;g(n);var a=w.find((function(e){return e.start<n&&n<=e.end}));if(a&&!(null===(t=a.tags)||void 0===t?void 0:t.some((function(e){return p[e]})))){var r=w.find((function(e){var t;return(null===(t=e.tags)||void 0===t?void 0:t.some((function(e){return p[e]})))&&e.start>=n}));r&&(!function(e){var t=u.current===e;t&&!o.current.paused?o.current.pause():t&&o.current.paused?o.current.play():t||(o.current.currentTime=e.start+.01,o.current.paused&&o.current.play())}(r),a=r)}u.current=a};return e.addEventListener("timeupdate",t),function(){e.removeEventListener("timeupdate",t)}}),[p,w]);var R=Object(x.a)(new Set(w.map((function(e){var t;return null!==(t=e.tags)&&void 0!==t?t:[]})).flat()));return Object(P.jsxs)(A.a,{as:"form",templateRows:"0fr 0fr 0fr",templateColumns:["1fr","1fr 0fr"],maxH:"95vh",children:[Object(P.jsx)(A.b,{id:"title",rowSpan:1,colSpan:2,children:Object(P.jsx)(h.a,{textAlign:"center",p:5,children:Object(P.jsx)(E.a,{children:null!==(t=null===(n=u.current)||void 0===n?void 0:n.name)&&void 0!==t?t:s})})}),Object(P.jsx)(A.b,{id:"video",rowSpan:1,colSpan:2,maxH:"50vh",children:Object(P.jsx)(N,{controls:!0,ref:o,w:"100%",maxH:"100%",children:Object(P.jsx)("source",{src:i,type:"video/mp4"})})}),Object(P.jsx)(A.b,{id:"tags",rowSpan:1,colSpan:1,children:Object(P.jsx)(I,{allTags:R,activeTags:p,setActiveTags:b})}),Object(P.jsx)(A.b,{id:"chapters",rowSpan:2,colSpan:1,children:Object(P.jsx)(B,{chapters:w,time:O,seekTo:T,allTags:R,activeTags:p,activeChapter:u.current,video:o.current})})]})},Z=function(){var e=Object(g.f)().pathname.replace(/^\/?(.+?)\/?$/,"$1"),t=Object(r.useState)(null),a=Object(j.a)(t,2),c=a[0],s=a[1];if(Object(r.useEffect)((function(){Object(d.a)(l.a.mark((function t(){var a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.startsWith("ceramic://")){t.next=9;break}return a=Object({NODE_ENV:"production",PUBLIC_URL:"/consult",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CERAMIC_URL||"http://localhost:7007",r=new b.a(a),t.next=5,f.TileDocument.load(r,e);case 5:c=t.sent,s(c.content),t.next=14;break;case 9:return t.t0=s,t.next=12,n(1014)("./".concat(e,"/js"));case 12:t.t1=t.sent,(0,t.t0)(t.t1);case 14:case"end":return t.stop()}}),t)})))()}),[e]),!c)return Object(P.jsxs)(m.a,{align:"center",mt:10,children:[Object(P.jsx)(h.a,{size:"sm",children:e}),Object(P.jsx)(O.a,{})]});console.info({info:c});var i=c.title,o=c.stops,u=c.source;return Object(P.jsx)(W,{title:i,stops:o,src:u})},H=n(710),G=n.n(H),J=n(385),K=n(711),q=n(361),Q=n(1336),_=n(384),X=n(1329),z=n(1342),Y=n(1337),$=n(908),ee=n(1330),te=n(1331),ne=n(1332),ae=n(1333),re=n(1343),ce=n(895),se=n(264),ie=n(321),oe=n(671),ue=Object({NODE_ENV:"production",PUBLIC_URL:"/consult",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CERAMIC_URL||"https://clay-ceramic.3boxlabs.com",le=null!==(a=Object({NODE_ENV:"production",PUBLIC_URL:"/consult",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_IPFS_URI)&&void 0!==a?a:"/ip4/127.0.0.1/tcp/5001",de=se.definitions.ConsultVideoIndex,je=function(e){var t=e.isOpen,n=e.onClose,a=e.setVideos,c=e.ceramic,s=e.idx,i=e.ipfs,o=Object(r.useState)((new Date).toISOString()),u=Object(j.a)(o,2),p=u[0],b=(u[1],Object(r.useState)("")),m=Object(j.a)(b,2),h=m[0],O=(m[1],Object(r.useState)("")),g=Object(j.a)(O,2),x=g[0],v=(g[1],Object(r.useState)(0)),A=Object(j.a)(v,2),S=A[0],w=(A[1],Object(r.useState)(null)),k=Object(j.a)(w,2),T=k[0],E=k[1],C=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,r,o,u,d,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E("Starting"),n={startTime:p,title:h},0===S?n.url=x:i.add(),r=n.title.replace(/\[([^\]]+)\]\([^)]+\)/g,(function(e,t){return t})),o="".concat(n.startTime,": ").concat(r),E("Checking IDX for Index"),e.next=8,s.get(de);case 8:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==t;case 12:if(!e.t0){e.next=16;break}e.t2=t,e.next=17;break;case 16:e.t2={};case 17:if(!(u=e.t2)[o]){e.next=26;break}return E("Loading Existing Tile"),e.next=22,f.TileDocument.load(c,u[o]);case 22:d=e.sent,console.info("Existing",d.id.toUrl()),e.next=38;break;case 26:return E("Creating New Tile"),e.next=29,f.TileDocument.create(c,null,{schema:se.schemas.ConsultVideoMetadata,family:"Consult Video",controllers:[c.did.id]});case 29:return d=e.sent,console.info("created",d.id.toUrl()),E("Updating IDX Index"),e.next=34,s.merge(de,Object(M.a)({},o,d.id.toUrl()),{pin:!0});case 34:j=e.sent,console.info("added",j.toUrl()),u[o]=d.id.toUrl(),a(Object.keys(u));case 38:return E("Updating Video Metadata"),e.next=41,d.update(n);case 41:console.info("updated",o),E(null);case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(Q.a,{isOpen:t,onClose:n,children:[Object(P.jsx)(Q.g,{}),Object(P.jsxs)(Q.d,{children:[Object(P.jsx)(Q.f,{children:"New Video"}),Object(P.jsx)(Q.c,{}),Object(P.jsxs)(Q.b,{children:[Object(P.jsxs)(_.a,{children:[Object(P.jsx)(X.a,{children:"Title"}),Object(P.jsx)(z.a,{})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(X.a,{children:"Start Time"}),Object(P.jsx)(z.a,{type:"datetime-local"})]}),Object(P.jsxs)(Y.e,{isFitted:!0,variant:"enclosed",children:[Object(P.jsxs)(Y.b,{mb:"1em",children:[Object(P.jsx)(Y.a,{children:"URL"}),Object(P.jsx)(Y.a,{children:"Upload"})]}),Object(P.jsxs)(Y.d,{children:[Object(P.jsx)(Y.c,{children:Object(P.jsx)(z.a,{placeholder:"ipfs://\u2026"})}),Object(P.jsx)(Y.c,{children:Object(P.jsx)(z.a,{type:"file"})})]})]})]}),Object(P.jsxs)(Q.e,{children:[Object(P.jsx)($.a,{variant:"ghost",onClick:n,children:"Cancel"}),Object(P.jsx)($.a,{colorScheme:"blue",ml:3,children:"Save"}),Object(P.jsx)($.a,{w:72,loadingText:T,onClick:C,isLoading:!!T,disabled:null!==T})]})]})]})},pe=function(){var e=Object(r.useMemo)((function(){return new b.a(ue)}),[]),t=Object(r.useEffect)((function(){return new J.a({ceramic:e,autopin:!0})}),[e]),n=Object(r.useMemo)((function(){return new ce.create(le)}),[]),a=Object(r.useState)([]),c=Object(j.a)(a,2),s=c[0],i=c[1],o=Object(ee.a)(),u=o.isOpen,p=(o.onOpen,o.onClose),h=function(){var e=Object(d.a)(l.a.mark((function e(n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get(de);case 2:if(e.t1=a=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==a;case 6:if(!e.t0){e.next=10;break}e.t2=a,e.next=11;break;case 10:e.t2={};case 11:return(r=e.t2)[n]||console.warn("Removing Nonexistent Id",n),delete r[n],console.info({videos:r},Object.keys(r)),e.next=17,t.set(de,r);case 17:console.info("SET",[]),i([]);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n,a,r,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object({NODE_ENV:"production",PUBLIC_URL:"/consult",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CERAMIC_URL||"http://localhost:7007",n=new b.a(t),a=new J.a({ceramic:n,autopin:!0}),r=new q.b,e.next=6,window.ethereum.enable();case 6:return c=e.sent,console.info("adrs",c),s=new q.a(window.ethereum,c[0]),e.next=11,r.connect(s);case 11:return i=new K.DID({provider:r.getDidProvider(),resolver:G.a.getResolver(n)}),e.next=14,i.authenticate();case 14:return n.did=i,console.info(n.did.id),e.t0=Object,e.next=19,Promise.all([ie.default,oe.default].map(function(){var e=Object(d.a)(l.a.mark((function e(t){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title.replace(/\[([^\]]+)\]\([^)]+\)/g,(function(e,t){return t})),r="".concat(t.startTime,": ").concat(a),e.next=4,f.TileDocument.create(n,t,{schema:se.schemas.ConsultVideoMetadata,family:"Consult Video",controllers:[n.did.id]});case 4:return c=e.sent,e.abrupt("return",[r,c.id.toUrl()]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 19:e.t1=e.sent,o=e.t0.fromEntries.call(e.t0,e.t1),a.set(se.definitions.ConsultVideoIndex,o),console.info(o);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)(te.a,{align:"center",mt:10,children:[Object(P.jsxs)(m.a,{maxW:"50rem",align:"center",children:[Object(P.jsx)($.a,{w:72,onClick:O,children:"New Video"}),Object(P.jsx)(ne.b,{children:s.map((function(e){return Object(P.jsx)(ne.a,{children:Object(P.jsxs)(F.a,{justify:"center",children:[Object(P.jsx)(E.a,{children:e}),Object(P.jsx)(ae.a,{"aria-label":"Remove",icon:Object(P.jsx)(re.a,{}),size:"sm",ml:5,onClick:function(){return h(e)}})]})},e)}))})]}),Object(P.jsx)(je,{isOpen:u,onClose:p,ceramic:e,idx:t,ipfs:n})]})},be=n(158),fe=n(730),me=n(732),he=n(897),Oe=n(898),ge=n(899),xe=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useMemo)((function(){return new me.a.providers.JsonRpcProvider("https://polygon-mumbai.infura.io/v3/7ba21f9ee8d2422da87d1c35bcead48b")}),[]),s=Object(r.useMemo)((function(){return new me.a.providers.JsonRpcProvider("https://mainnet.infura.io/v3/7ba21f9ee8d2422da87d1c35bcead48b")}),[]),i=Object(r.useMemo)((function(){return new me.a.Contract(Oe.address,ge,c)}),[c]),o=Object(r.useCallback)(Object(d.a)(l.a.mark((function e(){var t,n,r,c,o,u,p,f,m,h,O,g,v;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.filters.CAIP_10(),e.next=3,i.queryFilter(t,-3e4);case 3:return n=e.sent,r=Object(x.a)(new Set(n.map((function(e){return e.args.caip10})))),c=Object({NODE_ENV:"production",PUBLIC_URL:"/consult",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CERAMIC_URL||"http://localhost:7007",o=new b.a(c),u=new J.a({ceramic:o,autopin:!0}),p=new q.b,e.next=11,window.ethereum.enable();case 11:return f=e.sent,m=Object(be.a)(f),h=m[0],m.slice(1),O=new q.a(window.ethereum,h),e.next=18,p.connect(O);case 18:return g=new K.DID({provider:p.getDidProvider(),resolver:G.a.getResolver(o)}),e.next=21,g.authenticate();case 21:return o.did=g,console.info({addrs:r}),e.next=25,Promise.all(r.map(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a,r,c,i,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,(a=t.match(/^(eip155):(\d+):(.+)$/))&&(n="".concat(a[3],"@").concat(a[1],":").concat(a[2])),console.info({id:n}),e.next=6,he.Caip10Link.fromAccount(o,n);case 6:return r=e.sent,c=r.did,e.next=10,u.get(se.definitions.ConsultVideoIndex,c);case 10:return i=e.sent,d=n.replace(/@.*/,""),e.next=14,s.lookupAddress(d);case 14:return p=e.sent,e.abrupt("return",Object.entries(i).map((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return{addr:null!==p&&void 0!==p?p:d,title:n,url:a}})));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 25:v=e.sent,a(v.flat());case 27:case"end":return e.stop()}}),e)}))),[i,s]);Object(r.useEffect)((function(){return o()}),[o]);return n?Object(P.jsx)(ne.b,{children:n.map((function(e,t){var n=e.addr,a=e.title,r=e.url;return Object(P.jsx)(ne.a,{children:Object(P.jsxs)(fe.b,{to:r,children:[n,": ",a]})},t)}))}):Object(P.jsxs)(m.a,{align:"center",mt:12,children:[Object(P.jsx)(h.a,{children:"Loading\u2026"}),Object(P.jsx)(O.a,{})]})},ve=function(){return Object(P.jsx)(fe.a,{children:Object(P.jsxs)(g.c,{children:[Object(P.jsx)(g.a,{exact:!0,path:"/new",component:pe}),Object(P.jsx)(g.a,{exact:!0,path:"/",component:xe}),Object(P.jsx)(g.a,{path:"/",component:Z})]})})};i.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(o.a,{children:Object(P.jsx)(ve,{})})}),document.getElementById("root"))},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u}));var a=n(158),r=[{bg:"#19FF20"},{bg:"#FF0000BB"},{bg:"pink"},{bg:"blue",color:"white"},{bg:"orange"},{bg:"green",color:"white"},{bg:"teal",color:"white"},{bg:"purple",color:"white"},{bg:"darkgray",color:"white"},{bg:"cyan"},{bg:"black",color:"red"}],c=[],s=function(e){var t,n,a,s=null!==(t=null===(n=e.tags)||void 0===n?void 0:n[0])&&void 0!==t?t:null===(a=e.speakers)||void 0===a?void 0:a[0];if(!s)return{bg:"orange"};var i=c.indexOf(s);return i<0&&(i=c.length,c.push(s)),r[i%=r.length]},i=function(e){return e?function(){var t,n=e.split(":").reverse(),r=Object(a.a)(n),c=r[0],s=r[1],i=r.slice(2);i.length>1&&console.warn("Got ".concat(i," for hours parsing ").concat(e,"."));var o=[parseFloat(c),parseFloat(null!==s&&void 0!==s?s:0),parseFloat(null!==(t=null===i||void 0===i?void 0:i[0])&&void 0!==t?t:0)],u=o[1];return o[0]+60*(u+=60*o[2])}():void 0},o=function(e){if(Number(e)===e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=e%60;return"".concat(t>0?"".concat(t,":").concat(n.toString().padStart(2,"0")):n,":").concat(a.toString().padStart(2,"0"))}},u=function(e){var t=-e.getTimezoneOffset(),n=t>=0?"+":"-",a=function(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+"T"+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds())+n+a(t/60)+":"+a(t%60)}},264:function(e){e.exports=JSON.parse('{"definitions":{"ConsultVideoMetadata":"ceramic://kjzl6cwe1jw149iz5d5lt3xzmmehagltbrki9n0rpgsggc8xsrfcq5fc7jq0i2w","ConsultVideoIndex":"ceramic://kjzl6cwe1jw145iicq385z7200d2q3g2mtyb9eu9s38le6ztflrhzhsgla1z8u8"},"schemas":{"ConsultVideoMetadata":"ceramic://k3y52l7qbv1frxhxdj4zsa3famo23wwni4swqt8phartpso2yl379pwuctgevurcw","ConsultVideoIndex":"ceramic://k3y52l7qbv1fry7kracca6ykggtrhjjlxqe1yyx5awnai5crsrrknpf3w2s0jrhts"}}')},321:function(e,t,n){"use strict";n.r(t),n.d(t,"id",(function(){return r})),n.d(t,"startTime",(function(){return c})),n.d(t,"url",(function(){return s})),n.d(t,"title",(function(){return i})),n.d(t,"stops",(function(){return o}));var a=n(131),r="tip:w/MetaGame\u2019s Builders/on/1442/Dhu\u02bbl-Hijjah/25/@/1/26/\u2012/1/77/",c=new Date("2021-08-04T10:00:30-0400"),s="https://ipfs.io/ipfs/".concat("QmbEzZzhqnJmtxoFbaA5fwdjaGN2rucVEkrGCi9o5sX31J/2021-08-04@10:01:40.MetaGame Builders' Align.mp4"),i="Builders' Align for the Week of 1442/12/22 \u2012 28",o={"01:01":{name:"Docker Swarm",speakers:["@dysbulic","@Michiel"]},"02:16":{name:"Vercel",speakers:["@dysbulic","@Michiel"]},"03:24":{name:"Service User",speakers:["@dysbulic","@Michiel"]},"04:23":{name:"Rook's Intro",speakers:["@Rook","@Michiel"]},"10:24":{name:"TomBalls Enters",speakers:["@dysbulic","@Michiel"]},"11:55":{name:"dan13ram Enters",speakers:["@dan13ram","@Michiel"]},"12:19":{name:"Call Starts",speakers:["@Michiel"]},"12:34":{name:"b0gie Presents",speakers:["@b0gie"]},"14:38":{name:"TomBalls Presents",speakers:["@TomBalls"]},"16:28":{name:"Rook Presents",speakers:["@Rook"]},"17:58":{name:"Service User Done"},"18:31":{name:"jonathanp Presents",speakers:["@jonathanp"]},"19:05":{name:"googoomuck Doesn't Present",speakers:["@Michiel"]},"19:29":{name:"dysbulic Presents",speakers:["@dysbulic"]},"23:02":{name:"dan13ram Presents",speakers:["@dan13ram"]},"32:52":{name:"arentweall Presents",speakers:["@arentweall"]},"34:05":{name:"Bagholder McFomo Presents",speakers:["@Bagholder McFomo"]},"38:05":{name:"Michiel Presents",speakers:["@Michiel"]},"42:38":{name:"p\u039eTH Presents",speakers:["@peth don't need your eth"]},"51:16":{name:"SoureCred's Meeting Channels",speakers:["@Michiel"]},"53:55":{name:"Curious & Engaged Work",speakers:["@peth don't need your eth","@Michiel","@dysbulic","@TomBalls"]},"01:00:05":{name:"stepan Presents",speakers:["@stepan"]}};t.default={title:i,startTime:Object(a.d)(c),source:s,stops:o}},671:function(e,t,n){"use strict";n.r(t),n.d(t,"startTime",(function(){return r})),n.d(t,"url",(function(){return c})),n.d(t,"title",(function(){return s})),n.d(t,"stops",(function(){return i}));var a=n(131),r=new Date("2021-04-25T21:55:37-0400"),c="https://ipfs.io/ipfs/".concat("QmZKXnvufBf2ZFEVqF78LPbfdEceShZ5QPubSjEViYWZ5X"),s="Raid Guild Initial Consultation Call w/ @joshsdoug",i={"00:00":{name:"Musical Intro",tags:["skippable"]},"08:45":{name:"High Volume",tags:["chatter"]},"09:30":{name:"Blood Pressure",tags:["BP"]},"10:37":{name:"Bleeding Edge",tags:["pertinent"]},"13:06":{name:"Ceramic",tags:["pertinent"]},"15:26":{name:"Jitsi",tags:["logistics"]},"17:40":{name:"Call me \u201c\u0394\u03c5\u03c2\u201d.",tags:["personal"]},"18:04":{name:"Blood Pressure",tags:["BP"]},"18:50":{name:"Reread",tags:["skippable"]},"19:32":{name:"Peyote",tags:["BP"]},"20:16":{name:"Fractured",tags:["skippable"]},"20:54":{name:"BP Persistence",tags:["BP"]},"22:48":{name:"Reschedule",tags:["logistics"]},"24:06":{name:"Jitsi Found",tags:["logistics"]},"24:45":{name:"Stretch Goals",tags:["skippable"]},"25:45":{name:"Anarchism",tags:["pertinent"]},"26:45":{name:"Passed",tags:["personal"]},"28:23":{name:"Triage List",tags:["tangential"]},"30:08":{name:"Scattered",tags:["skippable"]},"33:29":{name:"Fran\xe7ais",tags:["logistics"]},"35:15":{name:"Odin's Eye",tags:["pertinent"]},"35:41":{name:"Hard Stop",tags:["logistics"]},"36:20":{name:"BP Resolution",tags:["BP"]},"36:43":{name:"Pairing Partners",tags:["pertinent"]},"37:21":{name:"Beggars in Spain",tags:["recommendation"]},"37:27":{name:"Ancillae",tags:["skippable"]},"37:53":{name:"Kubernetes",tags:["pertinent"]},"38:38":{name:"BP Mindlessness",tags:["BP"]},"40:00":{name:"Render Tree",tags:["algorithm"]},"41:25":{name:"[Donnie Darko](https://ipfs.io/ipfs/QmTAdBoj7guxtLroQrdFTHrA1M2vSa37VQZoh4D77rdANc/Donnie.Darko.2001.mp4)",tags:["recommendation"]},"43:42":{name:"Kinesthetic Reasoning",tags:["psych"]},"44:19":{name:"T-minus 5 Minutes",tags:["logistics"]},"44:52":{name:"\xbfWill it happen?",tags:["pitch","pertinent"]},"46:27":{name:"Revolution through Election",tags:["pertinent"]},"47:22":{name:"\xbfWhat year is it?",tags:["pitch","pertinent"]},"49:45":{name:"1968",tags:["pertinent"]},"50:35":{name:"Dissatisfied",tags:["logistics"]},"52:48":{name:"\xbfMake Sense?",tags:["pertinent"]},"53:26":{name:"Inch'allah",tags:["logistics"]},"53:34":{name:"Euthanasia",tags:["personal"]},"54:04":{name:"Dead Air",tags:["skippable"]}};t.default={title:s,startTime:Object(a.d)(r),source:c,stops:i}},898:function(e){e.exports=JSON.parse('{"address":"0xCe1370E6013989185ac2552832099F24a85DbfD4"}')},899:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"caip10","type":"string"}],"name":"CAIP_10","type":"event"},{"inputs":[{"internalType":"string","name":"caip10","type":"string"}],"name":"publish","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}},[[1301,2,3]]]);
//# sourceMappingURL=main.c300b25d.chunk.js.map