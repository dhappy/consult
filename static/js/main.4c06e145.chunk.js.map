{"version":3,"sources":["ceramic.svg","MarkedVideo.jsx","View.jsx","New.jsx","ListAvailable.jsx","App.jsx","index.jsx","w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/cid.js","w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js.jsx","utils.js","w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/cid.js","w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js.jsx","../src lazy /^/.//.*//js$/ groupOptions: {} namespace object"],"names":["DEFAULT_DURATION","Math","pow","Video","chakra","colors","colorIds","colorFor","id","index","indexOf","push","length","newNode","obj","Object","assign","uuid","children","partition","visit","node","method","apply","parent","isSet","siblingsOf","siblings","connect","root","stops","Array","isArray","rent","map","child","clone","Spans","count","hovered","setHovered","duration","startOffset","rest","keys","idx","key","heightPercent","className","includes","top","height","position","_before","content","zIndex","opacity","left","bottom","right","bg","p","w","sx","onMouseEnter","ids","mouseOver","onMouseLeave","dup","splice","mouseOut","style","display","width","to","direction","TimeBox","props","whiteSpace","textAlign","lineHeight","m","px","Times","startsAt","time","endsAt","useMemo","Date","getTime","isNaN","ends","isoStringFor","date","tz","split","part","borderTop","borderBottom","onlyTime","setter","str","replace","call","NodeSettings","open","closeNodeSettings","replaceNode","raw","initialRef","useRef","useState","title","setTitle","body","setBody","baseStartOffset","baseDuration","defaultEnd","timeFor","ifSet","stringFor","endOffset","baseEndOffset","setStartOffset","start","end","setDuration","sync","setEndOffset","replacement","fields","gen","entries","forEach","value","size","initialFocusRef","isOpen","onClose","as","onSubmit","evt","preventDefault","textOverflow","overflow","pb","isFitted","variant","mb","mt","ref","autoFocus","onChange","target","minH","placeholder","ml","fontWeight","onClick","toString","alignSelf","mx","colorScheme","type","Events","insertChild","insertParent","useDisclosure","openNodeSettings","onOpen","dur","timePercent","Option","fontSize","_hover","color","pt","insert","sibling","anchor","addPartition","addParallel","removeNode","a","findById","result","VideoSettings","closeVideoSettings","info","setInfo","setStartsAt","DateTime","current","config","vid","setTime","setRaw","setStops","source","encodeURI","vidHeight","setVidHeight","openVideoSettings","src","match","useEffect","fix","durationStr","startOffsetStr","offNodes","unshift","slice","durNodes","next","find","startIdx","endIdx","span","durPer","i","console","warn","generate","outer","rawNode","Error","findIndex","URLSearchParams","window","location","search","get","currentTime","seekTo","video","update","addEventListener","removeEventListener","set","templateRows","templateColumns","maxH","rowSpan","colSpan","h","overflowY","self","pos","insertion","rawChild","maxW","flexGrow","controls","align","stripped","strip","metadata","blob","Blob","JSON","stringify","url","URL","createObjectURL","focus","error","minW","CeramicLogo","transform","draggable","onDrag","y","clientY","getBoundingClientRect","max","innerHeight","useLocation","pathname","startsWith","CERAMIC_URL","process","ceramic","Ceramic","TileDocument","load","tile","endsWith","regex","http","fetch","res","json","MarkedVideo","IPFS_URL","REACT_APP_IPFS_URI","DEF","definitions","ConsultVideoIndex","NewVideoModal","setVideos","ipfs","toISOString","startTime","tabIndex","creating","setCreating","add","anchorless","_str","$1","videos","toUrl","create","schema","schemas","ConsultVideoMetadata","family","controllers","did","merge","pin","record","loadingText","isLoading","disabled","IDX","autopin","ipfsHTTPClient","remove","loadVideos","threeIdConnect","ThreeIdConnect","ethereum","enable","addresses","authProvider","EthereumAuthProvider","DID","provider","getDidProvider","resolver","ThreeIdResolver","getResolver","authenticate","Promise","all","V1","V2","metas","fromEntries","justify","icon","Delete","docs","setDocs","ethers","providers","JsonRpcProvider","ensProvider","contract","Contract","address","abi","events","useCallback","filter","filters","CAIP_10","queryFilter","addrs","Set","args","caip10","toLowerCase","Caip10Link","fromAccount","caip","ceramicIds","eth","lookupAddress","ens","addr","flat","exact","path","component","New","View","ListAvailable","ReactDOM","render","StrictMode","App","document","getElementById","name","speakers","Boolean","def","default","reverse","secondsStr","minutesStr","hoursStr","parseFloat","parseInt","minutes","sign","hours","floor","abs","seconds","milliseconds","reduce","acc","num","toFixed","msStr","padStart","opts","tzo","getTimezoneOffset","dif","pad","norm","dateSeparator","sep","ret","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","tzMinutes","tags","webpackAsyncContext","req","__webpack_require__","o","resolve","then","e","code","module","exports"],"mappings":"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","file":"static/js/main.4c06e145.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ceramic.0ee77a5c.svg\";","import {\n  Box, Button, ButtonGroup, Flex, GridItem, Grid, Heading,\n  Stack, Spacer, Spinner, chakra, useDisclosure, Input,\n  ModalOverlay, ModalContent, ModalHeader, ModalFooter,\n  ModalCloseButton, ModalBody, FormControl, FormLabel,\n  Modal, Text, Textarea, Divider, Image,\n  Tabs, TabList, TabPanels, Tab, TabPanel,\n} from '@chakra-ui/react'\nimport {\n  useEffect, useRef, useState, useMemo,\n} from 'react'\nimport Markdown from 'react-markdown'\nimport { v4 as uuid } from 'uuid'\nimport { HashLink as Link } from 'react-router-hash-link'\nimport {\n  isoStringFor, stringFor, timeFor, isSet, ifSet,\n} from 'utils'\nimport CeramicLogo from './ceramic.svg'\n\nconst DEFAULT_DURATION = Math.pow(60, 3)\nconst DEFAULT_VID_HEIGHT = 85\n\nconst Video = chakra('video')\n\nconst colors = [\n  'orange', 'red', 'green', 'purple', 'yellow',\n  'silver', 'blue', 'cyan', 'brown',\n  'black', 'white', 'coral', 'gray', 'pink',\n  'olive', 'orangered', 'teal', 'gold',\n]\n\nconst colorIds = []\nconst colorFor = (id) => {\n  let index = colorIds.indexOf(id)\n  if(index < 0) {\n    colorIds.push(id)\n    index = colorIds.length - 1\n  }\n  return colors[index % colors.length]\n}\n\nconst newNode = (obj = {}) => (\n  Object.assign(\n    { id: uuid(), children: [], partition: false },\n    obj,\n  )\n)\n\nconst visit = ({ node, method }) => {\n  let children = node?.children ?? []\n  children = method.apply(\n    node, [{ children, parent: node, visit }]\n  )\n  if(isSet(node.children)) {\n    node.children = children\n  }\n  return node\n}\n\nconst siblingsOf = (node) => {\n  const {\n    parent: { children: siblings } = { children: null }\n  } = node\n  return !node.parent ? [node] : siblings\n}\n\nconst connect = ({ stops }) => {\n  const parent = ({ children = [], parent: rent, visit }) => {\n    children = children.map((child) => {\n      child = visit({ node: newNode(child), method: parent })\n      child.parent = rent\n      return child\n    })\n    return children\n  }\n  let root = stops\n  if(Array.isArray(root)) {\n    root = { children: root }\n  }\n  return visit({ node: newNode(root), method: parent })\n}\n\nconst clone = (stops) => connect({ stops })\n\nconst generate = ({ root, duration, raw }) => {\n  const node = clone(root)\n  const fix = ({ parent, children, visit }) => (\n    children.map((child) => {\n      child.raw = findById(node, child.id)\n\n      if (typeof child.duration === 'string') {\n        child.durationStr = child.duration\n        child.duration = timeFor(child.duration)\n      }\n\n      if (typeof child.startOffset === 'string') {\n        child.startOffsetStr = child.startOffset\n        child.startOffset = timeFor(child.startOffset)\n      }\n\n      const offNodes = [child]\n      while(offNodes[0].startOffset == null) {\n        const [node] = offNodes\n        const siblings = siblingsOf(node)\n        const index = siblings.indexOf(node)\n        if(index < siblings.length - 1) {\n          node.startOffset = (\n            siblings[index + 1].startOffset\n            - node.duration\n          )\n        }\n        if(node.startOffset != null) {\n          break\n        } else if(!node.parent) {\n          node.startOffset = 0\n        } else {\n          offNodes.unshift(node.parent)\n        }\n      }\n      offNodes.slice(1).forEach((node) => {\n        if(!node.parent.partition) {\n          node.startOffset = offNodes[0].startOffset\n        }\n      })\n\n      const durNodes = [child]\n      while(durNodes[0].duration == null) {\n        const [node] = durNodes\n        const siblings = siblingsOf(node)\n        const next = siblings.find((sibling) => (\n          sibling.startOffset > node.startOffset\n        ))\n        if (next) {\n          node.duration = (\n            next.startOffset - node.startOffset\n          )\n        } else if (!node.parent) {\n          node.duration = duration ?? DEFAULT_DURATION\n          break\n        } else {\n          durNodes.unshift(node.parent)\n        }\n      }\n      durNodes.slice(1).forEach((node) => {\n        if(!node.parent.partition) {\n          node.duration = durNodes[0].duration\n        }\n      })\n\n      if(parent.partition) {\n        let startIdx = 0\n        while(\n          startIdx < children.length\n          && children[startIdx].duration != null\n          && children[startIdx].startOffset != null\n        ) {\n          startIdx++\n        }\n        let endIdx = startIdx\n        while(\n          endIdx < children.length\n          && children[endIdx].duration == null\n          && children[endIdx].startOffset == null\n        ) {\n          endIdx++\n        }\n        const span = endIdx - startIdx\n        if(span > 0) {\n          const start = (\n            (startIdx === 0) ? (\n              child.parent.startOffset\n            ) : (\n              children[startIdx].startOffset\n              + children[startIdx].duration\n            )\n          )\n          const dur = (\n            (endIdx === children.length) ? (\n              child.parent.duration\n            ) : (\n              children[endIdx].startOffset\n              + children[endIdx].duration\n            )\n            - start\n          )\n          const durPer = dur / span\n\n          for(let i = startIdx; i < endIdx; i++) {\n            children[i].duration = durPer\n            children[i].startOffset = (\n              (children[i - 1]?.startOffset ?? -durPer) + durPer\n            )\n          }\n        }\n      }\n  \n      if (child.startOffset == null) {\n        console.warn(`No Starting Time`, { parent })\n      }\n      if (child.duration == null) {\n        console.warn(`No Event Duration`, { parent })\n      }\n\n      return visit({ node: child, method: fix })\n    })\n  )\n\n  return visit({ node, method: fix })\n}\n\nconst Spans = ({ node, count = 1, hovered, setHovered }) => {\n  if (!node) return null\n\n  const mouseOver = (node) => {\n    const ids = []\n    while(node) {\n      ids.push(node.id)\n      node = node.parent\n    }\n    setHovered(ids)\n  }\n  const mouseOut = (node) => {\n    setHovered((ids) => {\n      const dup = [...ids]\n      dup.splice(ids.indexOf(node.id), 1)\n      return dup\n    })\n  }\n\n  const {\n    id, children = [], startOffset,\n    duration, partition, ...rest\n  } = node\n\n  if (Object.keys(rest).length === 0) {\n    return (\n      children.map((child, idx) => (\n        <Spans\n          {...{ duration, hovered, setHovered }}\n          key={idx}\n          node={child}\n          count={count + idx + 1}\n        />\n      ))\n    )\n  }\n\n  const timePercent = 0 //100 * startOffset / duration\n  const heightPercent = (\n    100 * duration / node.parent.duration\n  )\n  let className = 'span'\n  if(hovered.includes(node.id)) {\n    className += ' hovered'\n  }\n\n  return (\n    <Flex\n      top={`${timePercent}%`}\n      height={`${heightPercent}%`}\n      position=\"relative\"\n      _before={{\n        content: '\"\"', zIndex: -1,\n        position: 'absolute', opacity: 0.5,\n        top: 0, left: 0, bottom: 0, right: 0,\n        bg: colorFor(node.id),\n      }}\n      p={0} w=\"full\" {...{ className }}\n      sx={{\n        '&.hovered::before': { opacity: 1 }\n      }}\n      onMouseEnter={() => mouseOver(node)}\n      onMouseLeave={() => mouseOut(node)}\n    >\n      <Link\n        style={{ display: 'block', width: '0.75em' }}\n        to={`#${node.id}`}\n      />\n      <Flex\n        direction={node.partition ? 'column' : 'row'}\n      >\n        {node.children.map((child, idx) => (\n          <Spans\n            {...{ duration, hovered, setHovered }}\n            key={child.id} node={child}\n            count={count + idx + 1}\n          />\n        ))}\n      </Flex>\n      <Link\n        style={{ display: 'block', width: '0.25em' }}\n        to={`#${node.id}`}\n      />\n    </Flex>\n  )\n}\n\nconst TimeBox = (({ children, ...props }) => (\n  <Box\n    whiteSpace=\"pre\" textAlign=\"center\"\n    lineHeight=\"1rem\" m=\"0 !important\"\n    px=\"0.1rem\" {...props}\n  >\n    {children}\n  </Box>\n))\n\nconst Times = ({\n  node, startsAt, duration, time,\n  hovered, setHovered, ...props\n}) => {\n  const endsAt = useMemo(() => (\n    new Date(startsAt.getTime() + duration * 1000)\n  ), [startsAt, duration])\n\n  if (!(endsAt instanceof Date) || isNaN(endsAt) || !node) {\n    return null\n  } else {\n    const ends = isoStringFor(\n      endsAt,\n      { date: false, tz: false },\n    )\n\n    return (\n      <Flex {...props}>\n        <Stack key=\"times\">\n          {\n            isoStringFor(startsAt).split('T')\n            .map((part, idx) => (\n              <TimeBox\n                key={idx}\n                borderTop={idx === 0 ? '2px dashed' : ''}\n              >\n                {part}\n              </TimeBox>\n            ))\n          }\n          <Spacer />\n          <TimeBox borderBottom=\"2px dashed\">\n            {ends}\n          </TimeBox>\n        </Stack>\n        <Flex>\n          <Spans {...{ node, hovered, setHovered }} />\n        </Flex>\n      </Flex>\n    )\n  }\n}\n\nconst onlyTime = ({ setter }) => (\n  (str) => {\n    str = (\n      str.replace(/[^0-9\\-−:.]/g, '')\n      .replace(/^(.+)[-−](.*)$/g, '$1$2')\n    )\n    setter.call(this, str)\n    return str\n  }\n)\n\nconst NodeSettings = ({\n  open, closeNodeSettings, node, replaceNode,\n}) => {\n  const { partition, children, raw } = node\n  const initialRef = useRef()\n  const [title, setTitle] = useState(node.title)\n  const [body, setBody] = useState(node.body)\n  const [startOffset, baseStartOffset] = (\n    useState(raw.startOffset ?? '')\n  )\n  const [duration, baseDuration] = (\n    useState(raw.duration ?? '')\n  )\n  const defaultEnd = (\n    timeFor(ifSet(startOffset) ?? node.startOffset)\n    + timeFor(ifSet(duration) ?? node.duration)\n  )\n  const [endOffset, baseEndOffset] = (\n    useState(\n      (isSet(startOffset) && isSet(duration)) ? (\n        stringFor(defaultEnd)\n      ) : (\n        ''\n      )\n    )\n  )\n  const setStartOffset = (str) => {\n    str = onlyTime({ setter: baseStartOffset })(str)\n    const start = (\n      timeFor(ifSet(str) ?? node.startOffset)\n    )\n    if(isSet(endOffset)) {\n      const end = timeFor(endOffset)\n      setDuration(\n        stringFor(end - start),\n        { sync: false },\n      )\n    } else if(isSet(duration)) {\n      const length = timeFor(duration)\n      setEndOffset(\n        stringFor(start + length),\n        { sync: false },\n      )\n    }\n  }\n  const setDuration = (str, { sync } = {}) => {\n    str = onlyTime({ setter: baseDuration })(str)\n    if(sync !== false && (isSet(endOffset) || isSet(startOffset))) {\n      const start = (\n        timeFor(ifSet(startOffset) ?? node.startOffset)\n      )\n      setEndOffset(\n        stringFor(start + timeFor(str)),\n        { sync: false },\n      )\n    }\n  }\n  const setEndOffset = (str, { sync } = {}) => {\n    str = onlyTime({ setter: baseEndOffset })(str)\n    if(\n      sync !== false\n      && (isSet(duration) || isSet(startOffset))\n    ) {\n      const start = (\n        timeFor(ifSet(startOffset) ?? node.startOffset)\n      )\n      const end = timeFor(str)\n      setDuration(\n        stringFor(end - start),\n        { sync: false },\n      )\n    }\n  }\n  const replacement = useMemo(() => {\n    const fields = {\n      title, body, duration, startOffset,\n      partition, children, id: node.id,\n    }\n    const gen = newNode()\n    Object.entries(fields).forEach(\n      ([key, value]) => {\n        if(isSet(value)) {\n          gen[key] = value\n        }\n      }\n    )\n    return gen\n  }, [\n    body, children, duration,\n    partition, startOffset, title,\n    node.id,\n  ])\n  const save = (evt) => {\n    evt.preventDefault()\n    replaceNode({ node, replacement })\n    closeNodeSettings()\n  }\n\n  return (\n    <Modal\n      size=\"xl\" initialFocusRef={initialRef}\n      {...{ isOpen: open, onClose: closeNodeSettings }}\n    >\n      <ModalOverlay/>\n      <ModalContent as=\"form\" onSubmit={save}>\n        <ModalHeader\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          whiteSpace=\"nowrap\"\n        >Node: <q>{title}</q></ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody pb={6}>\n          <Tabs isFitted variant=\"enclosed\">\n            <TabList mb=\"1em\">\n              <Tab>Text</Tab>\n              <Tab>Timing</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <FormControl mt={4}>\n                  <FormLabel>Title</FormLabel>\n                  <Input\n                    ref={initialRef} value={title} autoFocus\n                    onChange={({ target: { value }}) => {\n                      setTitle(value)\n                    }}\n                  />\n                </FormControl>\n\n                <FormControl mt={4}>\n                  <Tabs isFitted variant=\"enclosed\">\n                    <TabList mb=\"1em\">\n                      <Tab>Body</Tab>\n                      <Tab>Preview</Tab>\n                    </TabList>\n                    <TabPanels>\n                      <TabPanel>\n                        <Textarea\n                          value={body} minH=\"5em\"\n                          placeholder=\"Markdown\"\n                          onChange={({ target: { value }}) => {\n                            setBody(value)\n                          }}\n                        />\n                      </TabPanel>\n                      <TabPanel>\n                        <Markdown>{body}</Markdown>\n                      </TabPanel>\n                    </TabPanels>\n                  </Tabs>\n                </FormControl>\n              </TabPanel>\n              <TabPanel>\n                <FormControl>\n                  <FormLabel>Start Offset</FormLabel>\n                  <Flex>\n                    <Input\n                      ref={initialRef} value={startOffset}\n                      placeholder={\n                        'automatic or HH:mm:ss.msms or mm:ss or ssss'\n                      }\n                      onChange={({ target: { value }}) => (\n                        setStartOffset(value)\n                      )}\n                    />\n                    {\n                      startOffset === '' && node.startOffset >= 0\n                      && ((() => {\n                        const time = stringFor(node.startOffset)\n                        return (\n                          <Button\n                            variant=\"outline\"\n                            p={2} ml={2} fontWeight=\"bold\"\n                            onClick={() => {\n                              setStartOffset(time)\n                            }}\n                            title={\n                              `Autocomplete with ${time}`\n                            }\n                          >←</Button>\n                        )\n                      })())\n                    }\n                  </Flex>\n                </FormControl>\n\n                <Flex>\n                  <FormControl mt={4}>\n                    <FormLabel>End Offset</FormLabel>\n                    <Flex>\n                      <Input\n                        placeholder=\"automatic\"\n                        value={endOffset}\n                        onChange={({ target: { value }}) => {\n                          setEndOffset(value)\n                        }}\n                      />\n                      {\n                        endOffset === '' && !!defaultEnd\n                        && ((() => {\n                          const time = stringFor(defaultEnd.toString())\n                          return (\n                            <Button\n                              variant=\"outline\"\n                              p={2} ml={2} fontWeight=\"bold\"\n                              onClick={() => {\n                                setEndOffset(time)\n                              }}\n                              title={\n                                `Autocomplete with ${time}`\n                              }\n                            >←</Button>\n                          )\n                        })())\n                      }\n                    </Flex>\n                  </FormControl>\n                  <Text alignSelf=\"end\" mb={2} mx={2}>or</Text>\n                  <FormControl mt={4}>\n                    <FormLabel>Duration</FormLabel>\n                    <Flex>\n                      <Input\n                        placeholder=\"automatic\"\n                        value={duration}\n                        onChange={({ target: { value }}) => (\n                          setDuration(value)\n                        )}\n                      />\n                      {\n                        !isSet(duration) && isSet(node.duration)\n                        && ((() => {\n                          const time = stringFor(node.duration.toString())\n                          return (\n                            <Button\n                              variant=\"outline\"\n                              p={2} ml={2} fontWeight=\"bold\"\n                              onClick={() => {\n                                setDuration(time)\n                              }}\n                              title={\n                                `Autocomplete with ${time}`\n                              }\n                            >←</Button>\n                          )\n                        })())\n                      }\n                    </Flex>\n                  </FormControl>\n                </Flex>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            colorScheme=\"red\"\n            onClick={closeNodeSettings}\n          >\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            colorScheme=\"blue\" ml={3}\n          >Save</Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst Events = ({\n  node = {}, insertChild, replaceNode, insertParent,\n  duration, count = 1, hovered, setHovered, ...props\n}) => {\n  const {\n    isOpen: open,\n    onOpen: openNodeSettings,\n    onClose: closeNodeSettings,\n  } = useDisclosure()\n\n  if (!node) return null\n\n  const addChild = (parent) => {\n    insertChild(\n      { parent, insert: { title: 'new' } }\n    )\n  }\n  const addPartition = (sibling) => {\n    const { parent } = sibling\n    if(!parent.partition) {\n      insertParent({\n        child: sibling,\n        insert: { partition: true },\n        siblings: [newNode({ title: 'part' })],\n      })\n    } else {\n      insertChild({\n        parent, insert: { title: 'new' }, anchor: sibling\n      })\n    }\n  }\n  const addParallel = (sibling) => {\n    let { parent } = sibling\n    while(parent.partition && parent.parent) {\n      sibling = parent\n      parent = parent.parent\n    }\n    insertChild({\n      parent, insert: { title: 'para' }, anchor: sibling\n    })\n  }\n  const removeNode = (node) => {\n    replaceNode({ node })\n  }\n\n  const mouseOver = (node) => {\n    const ids = []\n    while(node) {\n      ids.push(node.id)\n      node = node.parent\n    } \n    setHovered(ids)\n  }\n  const mouseOut = (node) => {\n    setHovered((ids) => {\n      const dup = [...ids]\n      dup.splice(ids.indexOf(node.id), 1)\n      return dup\n    })\n  }\n\n  const edit = (node) => {\n    openNodeSettings()\n  }\n\n  const {\n    id, children = [], startOffset,\n    duration: dur, partition, ...rest\n  } = node\n\n  if (Object.keys(rest).length === 0) {\n    return (\n      children.map((child, idx) => {\n        return (\n        <Events\n          {...{\n            duration, insertChild,\n            insertParent, replaceNode,\n            hovered, setHovered,\n          }}\n          key={idx}\n          node={child}\n          count={count + idx}\n        />\n        )\n      })\n    )\n  }\n\n  const timePercent = 100 * startOffset / duration\n  const heightPercent = 100 * dur / duration\n  let className = 'event'\n  if(hovered.includes(node.id)) {\n    className += ' hovered'\n  }\n\n  const Option = ({ children, ...props }) => (\n    <Button\n      {...props}\n      fontWeight=\"normal\" variant=\"outline\" mt={1.25}\n      fontSize={15} p={1} _hover={{ bg: '#00000077' }}\n    >{children}</Button>\n  )\n\n  return (\n    <>\n      <NodeSettings\n        {...{\n          closeNodeSettings, open,\n          node, replaceNode,\n        }}\n      />\n      <Stack\n        id={node.id}\n        top={`${timePercent}%`}\n        minH={`${heightPercent}%`}\n        position=\"relative\"\n        _before={{\n          content: '\"\"', zIndex: -1,\n          position: 'absolute', opacity: 0.5,\n          top: 0, left: 0, bottom: 0, right: 0,\n          bg: colorFor(node.id),\n        }}\n        px={3} w=\"full\"\n        sx={{\n          '&.hovered::before': { opacity: 1 }\n        }}\n        onMouseEnter={() => mouseOver(node)}\n        onMouseLeave={() => mouseOut(node)}\n        {...props} {...{ className }}\n      >\n        {node.title && (\n          <Flex>\n            <Heading\n              fontSize={32} color=\"white\" pt={1.5}\n            >\n              {node.title}\n            </Heading>\n            <Spacer />\n            <ButtonGroup>\n            <Option\n                title=\"Edit This Node\"\n                onClick={() => edit(node)}\n              >✏️</Option>\n              <Option\n                title=\"Create A Child\"\n                onClick={() => addChild(node)}\n              >█ → 🬠</Option>\n              <Option\n                title=\"Create A Partition Sibling\"\n                onClick={() => addPartition(node)}\n              >█ → 🮒</Option>\n              <Option\n                title=\"Create A Parallel Sibling\"\n                onClick={() => addParallel(node)}\n              >█ → 🮔</Option>\n              <Option\n                title=\"Remove Node\"\n                onClick={() => removeNode(node)}\n              >➖</Option>\n            </ButtonGroup>\n          </Flex>\n        )}\n        {isSet(node.body) && (\n          <Box\n            sx={{\n               a: { borderBottom: 'dashed' },\n               'a:hover': { borderBottom: 'solid' },\n            }}\n          >\n            <Divider color=\"white\"/>\n            <Markdown>{node.body}</Markdown>\n          </Box>\n        )}\n        {node.children?.map((child, idx) => (\n          <Events\n            {...{\n              duration, insertChild,\n              insertParent, replaceNode,\n              hovered, setHovered,\n            }}\n            key={idx}\n            node={child}\n            count={count + idx + 1}\n          />\n        ))}\n      </Stack>\n    </>\n  )\n}\n\nconst findById = (root, id) => {\n  if(root.id === id) {\n    return root\n  }\n  for(const child of root.children) {\n    const result = findById(child, id)\n    if(result) {\n      return result\n    }\n  }\n}\n\nconst VideoSettings = ({\n  open, closeVideoSettings, info, setInfo,\n}) => {\n  if(!isSet(info.startsAt)) {\n    info.startsAt = new Date()\n  }\n  const [startsAt, setStartsAt] = useState(\n    isoStringFor(info.startsAt, { tz: false })\n  )\n\n  const save = (evt) => {\n    evt.preventDefault()\n    setInfo((info) => ({\n      ...info, startsAt: new Date(startsAt),\n    }))\n    closeVideoSettings()\n  }\n\n  return (\n    <Modal\n      size=\"xl\"\n      {...{ isOpen: open, onClose: closeVideoSettings }}\n    >\n      <ModalOverlay/>\n      <ModalContent as=\"form\" onSubmit={save}>\n        <ModalHeader\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          whiteSpace=\"nowrap\"\n        >Video Settings</ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody pb={6}>\n          <FormControl mt={4}>\n            <FormLabel>Start Time</FormLabel>\n            <Input\n              type=\"datetime-local\"\n              value={startsAt} autoFocus\n              onChange={({ target: { value }}) => {\n                setStartsAt(value)\n              }}\n            />\n          </FormControl>\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            colorScheme=\"red\"\n            onClick={closeVideoSettings}\n          >Cancel</Button>\n          <Button\n            type=\"submit\"\n            colorScheme=\"blue\" ml={3}\n          >Save</Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst DateTime = ({ startsAt, time }) => {\n  const current = (\n    new Date(startsAt.getTime() + time * 1000)\n  )\n  const opts = { date: false, tz: false }\n  return <Box alignSelf=\"center\">\n    {isoStringFor(current, opts)}\n  </Box>\n}\n\nexport default (config) => {\n  const [duration, setDuration] = (\n    useState(DEFAULT_DURATION)\n  )\n  const vid = useRef()\n  const [time, setTime] = useState(0)\n  const [raw, setRaw] = useState(\n    connect({ stops: config.stops })\n  )\n  const [stops, setStops] = useState()\n  const [hovered, setHovered] = useState([])\n  const [info, setInfo] = useState({\n    startsAt: config.startsAt,\n    source: encodeURI(config.source),\n  })\n  const { startsAt, source } = info\n  const [vidHeight, setVidHeight] = (\n    useState(DEFAULT_VID_HEIGHT)\n  )\n  const {\n    isOpen: open,\n    onOpen: openVideoSettings,\n    onClose: closeVideoSettings,\n  } = useDisclosure()\n  const src = useMemo(() => {\n    const regex = /^ipfs:(\\/\\/)?(.+)$/i\n    const match = source.match(regex)\n    if (match) {\n      if(match[2].includes('Qmeiz7YmwtVYMRSUG3VdKTxU634JTPaB5j2xLj5RREqAkG')) {\n        return 'http://bafybeihtoo2yau6rnzlfad3jh62u3wccm4bs7j7wh5wb76estw77codume.ipfs.localhost:8888/2021%E2%81%8410%E2%81%8406@09:56:54.MetaGame%E2%80%99s%20Builders%E2%80%99%20Align.x264.mp4'\n      }\n\n      return `//ipfs.io/ipfs/${match[2]}`\n    }\n    return source\n  }, [source])\n\n  useEffect(() => {\n    const stops = generate({ root: raw, duration, raw })\n    console.info({ stops })\n    setStops(stops)\n  }, [raw, duration])\n\n  const insertChild = ({ parent, insert, anchor }) => {\n    const self = { ...parent.raw }\n    insert = newNode(insert)\n    insert.parent = self\n    const { children } = parent\n    const pos = (\n      anchor ? children.indexOf(anchor) : children.length\n    )\n    self.children = [\n      ...self.children.slice(0, pos + 1),\n      insert,\n      ...self.children.slice(pos + 1),\n    ]\n    const insertion = ({ children, visit }) => (\n      children.map((child) => {\n        visit({ node: child, method: insertion })\n        return child.id === self.id ? self : child\n      })\n    )\n    setRaw((raw) => {\n      return visit({ node: clone(raw), method: insertion })\n    })\n  }\n\n  const insertParent = ({ child, insert, siblings = [] }) => {\n    const rawChild = findById(raw, child.id)\n    insert.children = [rawChild, ...siblings]\n    replaceNode({\n      node: rawChild,\n      replacement: newNode(insert),\n    })\n    return insert\n  }\n\n  const replaceNode = ({ node, replacement = null }) => {\n    let outer = null\n    setRaw((raw) => {\n      const dup = outer = clone(raw)\n      const rawNode = findById(dup, node.id)\n\n      if(!rawNode) {\n        throw new Error(`Couldn't find node with id: ${node.id}`)\n      }\n\n      const { parent } = rawNode\n      const { children } = parent\n      const index = children.findIndex(\n        (child) => child.id === node.id\n      )\n      if(!replacement) {\n        children.splice(index, 1)\n      } else {\n        replacement.parent = parent\n        parent.children = [\n          ...children.slice(0, index),\n          replacement,\n          ...children.slice(index + 1),\n        ]\n      }\n      return dup\n    })\n    return outer\n  }\n\n  const seekTo = (time) => {\n    vid.current.currentTime = time\n  }\n\n  const serialize = () => {\n    const strip = (\n      ({ parent, children, visit }) => {\n        delete parent.id\n        delete parent.parent\n        if(!parent.partition) {\n          delete parent.partition\n        }\n        if(children.length === 0) {\n          delete parent.children\n        }\n\n        return children.map((child) => (\n          visit({ node: child, method: strip })\n        ))\n      }\n    )\n    const stripped = (\n      visit({ node: clone(raw), method: strip })\n    )\n    const metadata = {\n      video: info,\n      stops: stripped,\n    }\n    try {\n      const blob = new Blob(\n        [JSON.stringify(metadata, null, 2)],\n        { type: \"text/json\" },\n      )\n      const url = window.URL.createObjectURL(blob)\n      window.open(url, '_blank').focus()\n    } catch(error) {\n      console.error({ error })\n    }\n  }\n\n  const upload = () => {\n  }\n\n  /*\n  const clicked = (elem) => {\n    const currentClicked = info.current === elem\n    if (currentClicked && !vid.current.paused) {\n      vid.current.pause()\n    } else if (currentClicked && vid.current.paused) {\n      vid.current.play()\n    } else if (!currentClicked) {\n      vid.current.currentTime = elem.start + 0.01 // it misses\n      if (vid.current.paused) {\n        vid.current.play()\n      }\n    }\n  }\n  */\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search)\n    const chapterIdx = params.get('chapter')\n    if (chapterIdx) {\n      seekTo(\n        // chapters[parseInt(chapterIdx)].start\n      )\n    }\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    const video = vid.current\n    const update = ({ target: { currentTime: time }}) => {\n      setTime(time)\n    }\n    video.addEventListener('timeupdate', update)\n    return () => {\n      video.removeEventListener('timeupdate', update)\n    }\n  }, [setTime])\n\n  useEffect(() => {\n    const video = vid.current\n    const set = () => setDuration(video.duration)\n    video.addEventListener('loadedmetadata', set)\n    return () => {\n      video.removeEventListener('loadedmetadata', set)\n    }\n  }, [])\n\n  return (\n    <>\n      <VideoSettings {...{\n        open, closeVideoSettings, info, setInfo,\n      }}/>\n      <Grid\n        as=\"form\"\n        templateRows=\"1fr 0fr\"\n        templateColumns=\"0fr 1fr\"\n        maxH=\"100vh\"\n      >\n        {!stops ? (\n          <GridItem id=\"spinner\" rowSpan={1} colSpan={2}>\n            <Spinner />\n          </GridItem>\n        ) : (\n          <>\n            <GridItem id=\"spans\" rowSpan={1} colSpan={1}>\n              <Times\n                {...{\n                  startsAt, duration, time,\n                  hovered, setHovered,\n                }}\n                node={stops}\n                h={`calc(100vh - ${vidHeight}px)`}\n              />\n            </GridItem>\n            <GridItem\n              id=\"events\" rowSpan={1} colSpan={1}\n              overflowY=\"scroll\"\n            >\n              <Events\n                {...{\n                  insertChild, insertParent,\n                  duration, replaceNode,\n                  hovered, setHovered,\n                }}\n                node={stops}\n              />\n            </GridItem>\n          </>\n        )}\n        <GridItem\n          id=\"video\"\n          rowSpan={1} colSpan={2}\n          maxH={vidHeight} maxW=\"100vw\"\n        >\n          <Flex maxH=\"100%\" maxW=\"100vw\">\n            <DateTime {...{ startsAt, time }}/>\n            <Video\n              flexGrow={1} controls\n              maxH=\"100%\" maxW=\"calc(100vw - 10em)\"\n              ref={vid}\n            >\n              <source {...{ src, type: 'video/mp4' }} />\n              {/* {VTT && <track default src={VTT}/>} */}\n            </Video>\n            <Flex align=\"center\">\n              <Stack>\n                <Button\n                  title=\"Edit the video information\"\n                  onClick={openVideoSettings}\n                  h=\"auto\"\n                >⚙</Button>\n                <Button\n                  title=\"Download the current configuration\"\n                  onClick={serialize}\n                  h=\"auto\"\n                >⭳</Button>\n              </Stack>\n              <Button\n                title=\"Upload to Ceramic\"\n                onClick={upload}\n              >\n                <Image\n                  minH={25} minW={25}\n                  src={CeramicLogo}\n                />\n              </Button>\n            </Flex>\n          </Flex>\n        </GridItem>\n      </Grid>\n      <Button\n        position=\"absolute\"\n        left=\"50%\" bottom={vidHeight}\n        transform=\"translate(-50%, 50%)\"\n        draggable={true} variant=\"outline\"\n        onDrag={({ clientY: y, target, type }) => {\n          const { height } = (\n            target.getBoundingClientRect()\n          )\n          if(y > 0) { // an event w/ y = 0 fires at the end\n            // ToDo: keep the button on the screen\n            setVidHeight(Math.max(\n              window.innerHeight - y,\n              height,\n            ))\n          }\n        }}\n      >⇅</Button>\n    </>\n  )\n}","import { useState, useEffect } from 'react'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { TileDocument } from '@ceramicnetwork/stream-tile'\nimport {\n  Heading, Spinner, Stack, UnorderedList, ListItem,\n} from '@chakra-ui/react'\nimport { useLocation } from 'react-router'\nimport MarkedVideo from 'MarkedVideo'\nimport { HashLink as Link } from 'react-router-hash-link'\n\nexport default () => {\n  const { pathname: path } = useLocation()\n  const metadata = path.replace(/^\\/?(.+?)\\/?$/, '$1')\n  const [info, setInfo] = useState(null)\n\n  useEffect(() => {\n    console.info({ metadata });\n    (async () => {\n      if(metadata.startsWith('ceramic://')) {\n        const CERAMIC_URL = (\n          process.env.CERAMIC_URL\n          || 'http://localhost:7007'\n          || 'https://ceramic-clay.3boxlabs.com'\n        )\n        const ceramic = new Ceramic(CERAMIC_URL)\n        const tile = await (\n          TileDocument.load(ceramic, metadata)\n        )\n        console.info({ metadata, tile: tile.content })\n        setInfo(tile.content)\n      } else if(metadata.startsWith('ipfs://')) {\n        if(metadata.endsWith('.mp4')) {\n          setInfo({\n            startsAt: new Date(),\n            stops: [{\n              title: 'Title',\n            }],\n            source: metadata,\n          })\n        } else if(metadata.endsWith('.json')) {\n          const regex = /^ipfs:(\\/\\/)?(.+)$/i\n          const match = metadata.match(regex)\n          const http = `//ipfs.io/ipfs/${match[2]}`\n          const res = await fetch(http)\n          const { video: { startsAt, source }, stops } = (\n            await res.json()\n          )\n          setInfo({\n            startsAt: new Date(startsAt), source, stops\n          })\n        }\n      } else if(metadata !== '/') {\n        setInfo(await import(`./${metadata}/js`))\n      } else {\n        console.warn('No files to load…')\n      }\n    })()\n  }, [metadata])\n\n  if(!info) {\n    return (\n      <Stack align=\"center\" mt={10}>\n        {metadata === '/' ? (\n          <UnorderedList>\n            <ListItem>\n              <Link\n                to=\"ipfs://Qmeiz7YmwtVYMRSUG3VdKTxU634JTPaB5j2xLj5RREqAkG/2021⁄10⁄06@09:56:54.MetaGame’s%20Builders’%20Align.x264.mp4\"\n              >Builders’ Align Video</Link>\n            </ListItem>\n            <ListItem>\n              <Link\n                to=\"ipfs://QmeoVmZ637igvMFNMk9pKqfUrybTXBG4WNPFkFyEV6UPfT/Sample%20Builders’%20Align.json\"\n              >Builders’ Align Metadata</Link>\n            </ListItem>\n          </UnorderedList>\n        ) : (\n          <>\n            <Heading size=\"sm\">{metadata}</Heading>\n            <Spinner/>\n          </>\n        )}\n      </Stack>\n    )\n  }\n\n  const { title, stops, source, startsAt } = info\n  return <MarkedVideo {...{\n    title, stops, source, startsAt,\n  }}/>\n}","import ThreeIdResolver from '@ceramicnetwork/3id-did-resolver'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { IDX } from '@ceramicstudio/idx'\nimport { DID } from 'dids'\nimport {\n  ThreeIdConnect, EthereumAuthProvider,\n} from '@3id/connect'\nimport {\n  Box, Button, Flex, FormControl, FormLabel, IconButton,\n  Input, ListItem, Modal, ModalBody, ModalCloseButton,\n  ModalContent, ModalFooter, ModalHeader, ModalOverlay,\n  Stack, Tab, TabList, TabPanel, TabPanels, Tabs,\n  UnorderedList, useDisclosure,\n} from '@chakra-ui/react'\nimport { DeleteIcon } from '@chakra-ui/icons'\nimport Markdown from 'react-markdown'\nimport { useEffect, useState, useMemo } from 'react'\nimport { TileDocument } from '@ceramicnetwork/stream-tile'\nimport { create as ipfsHTTPClient } from 'ipfs-http-client'\n\nimport ids from 'ceramicIds.json'\nimport V1 from 'w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js'\nimport V2 from 'w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js'\n\nconst CERAMIC_URL = (\n  process.env.CERAMIC_URL\n  || 'https://clay-ceramic.3boxlabs.com'\n  || 'http://localhost:7007'\n  || 'https://d12-a-ceramic.3boxlabs.com'\n)\nconst IPFS_URL = (\n  process.env.REACT_APP_IPFS_URI ?? '/ip4/127.0.0.1/tcp/5001'\n)\n\nconst DEF = ids.definitions.ConsultVideoIndex\n\nconst NewVideoModal = ({\n  isOpen, onClose, setVideos, ceramic, idx, ipfs,\n}) => {\n  const [startTime/*, setStartTime*/] = (\n    useState((new Date()).toISOString())\n  )\n  const [title/*, setTitle*/] = useState('')\n  const [url/*, setURL*/] = useState('')\n  const [tabIndex/*, setTabIndex*/] = useState(0)\n  const [creating, setCreating] = useState(null)\n\n  const video = async () => {\n    setCreating('Starting')\n    const video = { startTime, title }\n    if(tabIndex === 0) {\n      video.url = url\n    } else {\n      ipfs.add()\n    }\n    const anchorless = video.title.replace(\n      /\\[([^\\]]+)\\]\\([^)]+\\)/g, (_str, $1) => $1\n    )\n    const id = `${video.startTime}: ${anchorless}`\n    setCreating('Checking IDX for Index')\n    const videos = (await idx.get(DEF)) ?? {}\n    let tile\n    if(videos[id]) {\n      setCreating('Loading Existing Tile')\n      tile = await TileDocument.load(ceramic, videos[id])\n      console.info('Existing', tile.id.toUrl())\n    } else {\n      setCreating('Creating New Tile')\n      tile = (await TileDocument.create(\n        ceramic,\n        null,\n        {\n          schema: ids.schemas.ConsultVideoMetadata,\n          family: 'Consult Video',\n          controllers: [ceramic.did.id],\n        },\n      ))\n      console.info('created', tile.id.toUrl())\n      setCreating('Updating IDX Index')\n      const record = await (\n        idx.merge(DEF, { [id]: tile.id.toUrl() }, { pin: true })\n      )\n      console.info('added', record.toUrl())\n      videos[id] = tile.id.toUrl()\n      setVideos(Object.keys(videos))\n    }\n    setCreating('Updating Video Metadata')\n    await tile.update(video)\n    console.info('updated', id)\n    setCreating(null)\n  }\n\n  return (\n    <Modal {...{ isOpen, onClose }}>\n      <ModalOverlay/>\n      <ModalContent>\n        <ModalHeader>New Video</ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody>\n        <FormControl>\n            <FormLabel>Title</FormLabel>\n            <Input/>\n          </FormControl>\n          <FormControl>\n            <FormLabel>Start Time</FormLabel>\n            <Input type=\"datetime-local\"/>\n          </FormControl>\n          <Tabs isFitted variant=\"enclosed\">\n            <TabList mb=\"1em\">\n              <Tab>URL</Tab>\n              <Tab>Upload</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <Input placeholder=\"ipfs://…\"/>\n              </TabPanel>\n              <TabPanel>\n                <Input type=\"file\"/>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          <Button variant=\"ghost\" onClick={onClose}>Cancel</Button>\n          <Button colorScheme=\"blue\" ml={3}>\n            Save\n          </Button>\n          <Button\n            w={72} loadingText={creating}\n            onClick={video}\n            isLoading={!!creating}\n            disabled={creating !== null}\n          />\n\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nexport default () => {\n  const ceramic = useMemo(\n    () => new Ceramic(CERAMIC_URL), []\n  )\n  const idx = useEffect(\n    () => new IDX({ ceramic, autopin: true }),\n    [ceramic],\n  )\n  const ipfs = useMemo(\n    () => new ipfsHTTPClient(IPFS_URL), []\n  )\n  const [videos, setVideos] = useState([])\n  const { isOpen, /*onOpen,*/ onClose } = useDisclosure()\n  \n  // useEffect(() => {\n  //   (async () => {\n  //     const threeIdConnect = new ThreeIdConnect()\n  //     const addresses = await window.ethereum.enable()\n  //     const authProvider = new EthereumAuthProvider(\n  //       window.ethereum, addresses[0]\n  //     )\n  //     await threeIdConnect.connect(authProvider)\n  //     const did = new DID({\n  //       provider: threeIdConnect.getDidProvider(),\n  //       resolver: ThreeIdResolver.getResolver(ceramic)\n  //     })\n  //     await did.authenticate()\n  //     ceramic.did = did\n  //     console.info('DID', did.id)\n  //   })()\n  // }, [])\n\n  // useEffect(() => {\n  //   if(ceramic && idx) {\n  //     (async () => {\n  //       const videos = await idx.get(DEF)\n  //       console.info('SET VIDS', videos)\n  //       setVideos(Object.keys(videos))\n  //     })()\n  //   }\n  // }, [ceramic, idx, DEF])\n\n  const remove = async (id) => {\n    const videos = (await idx.get(DEF)) ?? {}\n    if(!videos[id]) {\n      console.warn('Removing Nonexistent Id', id)\n    }\n    delete videos[id]\n    console.info({ videos }, Object.keys(videos))\n    await idx.set(DEF, videos)\n    console.info('SET', [])\n    setVideos([])\n  }\n\n  const loadVideos = async () => {\n    const CERAMIC_URL = (\n      process.env.CERAMIC_URL\n      || 'http://localhost:7007'\n      || 'https://ceramic-clay.3boxlabs.com'\n    )\n    const ceramic = new Ceramic(CERAMIC_URL)\n    const idx = new IDX({ ceramic, autopin: true })\n    const threeIdConnect = new ThreeIdConnect()\n    const addresses = await window.ethereum.enable()\n    console.info('adrs', addresses)\n    const authProvider = new EthereumAuthProvider(\n      window.ethereum, addresses[0]\n    )\n    await threeIdConnect.connect(authProvider)\n    const did = new DID({\n      provider: threeIdConnect.getDidProvider(),\n      resolver: ThreeIdResolver.getResolver(ceramic),\n    })\n    await did.authenticate()\n    ceramic.did = did\n    console.info(ceramic.did.id)\n\n    const metas = Object.fromEntries(\n      await Promise.all(\n        [V1, V2].map(async (video) => {\n          const anchorless = video.title.replace(\n            /\\[([^\\]]+)\\]\\([^)]+\\)/g, (_str, $1) => $1\n          )\n          const id = `${video.startTime}: ${anchorless}`\n          const tile = (await TileDocument.create(\n            ceramic,\n            video,\n            {\n              schema: ids.schemas.ConsultVideoMetadata,\n              family: 'Consult Video',\n              controllers: [ceramic.did.id],\n            },\n          ))\n          return [id, tile.id.toUrl()]\n        })\n      )\n    )\n    idx.set(\n      ids.definitions.ConsultVideoIndex,\n      metas,\n    )\n    console.info(metas)\n  }\n\n  return (\n    <Box align=\"center\" mt={10}>\n      <Stack maxW=\"50rem\" align=\"center\">\n        <Button\n          w={72}\n          // onClick={onOpen}\n          onClick={loadVideos}\n          //disabled={!ceramic || !idx}\n        >\n          New Video\n        </Button>\n        <UnorderedList>\n          {videos.map((vid) => (\n            <ListItem key={vid}><Flex justify=\"center\">\n              <Markdown>{vid}</Markdown>\n              <IconButton\n                aria-label=\"Remove\" icon={<DeleteIcon/>}\n                size=\"sm\" ml={5} onClick={() => remove(vid)}\n              />\n            </Flex></ListItem>\n          ))}\n        </UnorderedList>\n      </Stack>\n      <NewVideoModal {...{\n        isOpen, onClose, ceramic, idx, ipfs,\n      }}/>\n    </Box>\n  )\n}","import { Link } from 'react-router-dom'\nimport { Heading, ListItem, Spinner, Stack, UnorderedList } from \"@chakra-ui/react\";\nimport { ethers } from 'ethers'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { IDX } from '@ceramicstudio/idx'\nimport { DID } from 'dids'\nimport {\n  ThreeIdConnect, EthereumAuthProvider,\n} from '@3id/connect'\nimport ThreeIdResolver from '@ceramicnetwork/3id-did-resolver'\nimport { Caip10Link } from '@ceramicnetwork/stream-caip10-link'\nimport info from 'contract/address.json'\nimport abi from 'contract/abi/IDXEndpointPublisher.json'\nimport ceramicIds from 'ceramicIds.json'\nimport { useEffect, useCallback, useMemo, useState } from 'react'\n\nexport default () => {\n  const [docs, setDocs] = useState(null)\n  const provider = useMemo(() => (\n    new ethers.providers.JsonRpcProvider(\n      'https://polygon-mumbai.infura.io/v3/7ba21f9ee8d2422da87d1c35bcead48b'\n    )),\n    []\n  )\n  const ensProvider = useMemo(() => (\n    new ethers.providers.JsonRpcProvider(\n      'https://mainnet.infura.io/v3/7ba21f9ee8d2422da87d1c35bcead48b'\n    )),\n    []\n  )\n  const contract = useMemo(() => (\n    new ethers.Contract(info.address, abi, provider)\n    ),\n    [provider]\n  )\n\n  const events = useCallback(async () => {\n    const [address] = await window.ethereum.enable()\n    const filter = contract.filters.CAIP_10()\n    const events = await contract.queryFilter(filter, -90000)\n    const addrs = [...new Set(\n      ...events.map(\n        ({ args: { caip10: addr } }) => addr\n      ),\n      [`eip155:1:${address}`],\n    )]\n\n    const CERAMIC_URL = (\n      process.env.CERAMIC_URL\n      || 'http://localhost:7007'\n      || 'https://ceramic-clay.3boxlabs.com'\n    )\n    const ceramic = new Ceramic(CERAMIC_URL)\n    const idx = new IDX({ ceramic, autopin: true })\n    const threeIdConnect = new ThreeIdConnect()\n    const authProvider = new EthereumAuthProvider(\n      window.ethereum, address\n    )\n    await threeIdConnect.connect(authProvider)\n    const did = new DID({\n      provider: threeIdConnect.getDidProvider(),\n      resolver: ThreeIdResolver.getResolver(ceramic),\n    })\n    await did.authenticate()\n    ceramic.did = did\n\n    console.info({ addrs, address })\n\n    const docs = await Promise.all(\n      addrs.map(async (caip10) => {\n        let id = caip10.toLowerCase()\n        const match = id.match(\n          /^(eip155):(\\d+):(.+)$/\n        )\n        if(match) {\n          id = `${match[3]}@${match[1]}:${match[2]}`\n        }\n        const caip = await (\n          Caip10Link.fromAccount(ceramic, id)\n        )\n        const did = caip.did\n        if(did === null) {\n          throw new Error(`No DID Found for ${id}.`)\n        }\n        const index = await idx.get(\n          ceramicIds.definitions.ConsultVideoIndex,\n          did,\n        )\n        if(index === null) {\n          throw new Error(`No Index of Videos Found for ${did}.`)\n        }\n        const eth = id.replace(/@.*/, '')\n        const ens = await ensProvider.lookupAddress(eth)\n        return (\n          Object.entries(index).map(([title, url]) => ({\n            addr: ens ?? eth,\n            title,\n            url,\n          }))\n        )\n      })\n    )\n    setDocs(docs.flat())\n  }, [contract, ensProvider])\n\n  useEffect(() => events(), [events])\n\n  /*\n  const pub = () => {\n    const caip10 = 'eip155:1:0x615b044b6ccb048532bcf99aadf619d7fdd2aa01'\n    const plusSigner = contract.connect(provider.getSigner())\n    plusSigner.publish(caip10)\n  }\n  */\n \n  return (\n    !docs ? (\n      <Stack align=\"center\" mt={12}>\n        <Heading>Loading…</Heading>\n        <Spinner/>\n      </Stack>\n    ) : (\n      <UnorderedList>\n        {docs.map(({addr, title, url}, idx) => (\n          <ListItem key={idx}><Link to={url}>\n            {addr}: {title}\n          </Link></ListItem>\n        ))}\n      </UnorderedList>\n    )\n  )\n}","import View from 'View'\nimport New from 'New'\nimport ListAvailable from 'ListAvailable'\nimport {\n  HashRouter as Router, Switch, Route,\n} from 'react-router-dom'\n\nexport default () => (\n  <Router>\n    <Switch>\n      <Route exact path=\"/new\" component={New}/>\n      <Route path=\"/\" component={View}/>\n      <Route exact path=\"/\" component={ListAvailable}/>\n    </Switch>\n  </Router>\n)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ChakraProvider } from '@chakra-ui/react'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChakraProvider>\n      <App />\n    </ChakraProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","export default {\n  '/': (\n    \"QmbEzZzhqnJmtxoFbaA5fwdjaGN2rucVEkrGCi9o5sX31J/2021-08-04@10:01:40.MetaGame Builders' Align.mp4\"\n  ),\n}","import CID from './cid'\nimport { isoStringFor } from 'utils'\n\n// Should be ذو الحجة, but the bidi isn't cooperating in VS Code\nexport const id = 'tip:w/MetaGame’s Builders/on/1442/Dhuʻl-Hijjah/25/@/1/26/‒/1/77/'\nexport const startTime = new Date('2021-08-04T10:00:30-0400')\nexport const url = `https://ipfs.io/ipfs/${CID['/']}`\nexport const title = (\n  \"Builders' Align for the Week of 1442/12/22 ‒ 28\"\n)\n\nexport const stops = {\n  '01:01': {\n    name: 'Docker Swarm',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '02:16': {\n    name: 'Vercel',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '03:24': {\n    name: 'Service User',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '04:23': {\n    name: \"Rook's Intro\",\n    speakers: ['@Rook', '@Michiel'],\n  },\n  '10:24': {\n    name: 'TomBalls Enters',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '11:55': {\n    name: 'dan13ram Enters',\n    speakers: ['@dan13ram', '@Michiel'],\n  },\n  '12:19': {\n    name: 'Call Starts',\n    speakers: ['@Michiel'],\n  },\n  '12:34': {\n    name: 'b0gie Presents',\n    speakers: ['@b0gie'],\n  },\n  '14:38': {\n    name: 'TomBalls Presents',\n    speakers: ['@TomBalls'],\n  },\n  '16:28': {\n    name: 'Rook Presents',\n    speakers: ['@Rook'],\n  },\n  '17:58': {\n    name: 'Service User Done',\n  },\n  '18:31': {\n    name: 'jonathanp Presents',\n    speakers: ['@jonathanp'],\n  },\n  '19:05': {\n    name: \"googoomuck Doesn't Present\",\n    speakers: ['@Michiel'],\n  },\n  '19:29': {\n    name: 'dysbulic Presents',\n    speakers: ['@dysbulic'],\n  },\n  '23:02': {\n    name: 'dan13ram Presents',\n    speakers: ['@dan13ram'],\n  },\n  '32:52': {\n    name: 'arentweall Presents',\n    speakers: ['@arentweall'],\n  },\n  '34:05': {\n    name: 'Bagholder McFomo Presents',\n    speakers: ['@Bagholder McFomo'],\n  },\n  '38:05': {\n    name: 'Michiel Presents',\n    speakers: ['@Michiel'],\n  },\n  '42:38': {\n    name: 'pΞTH Presents',\n    speakers: [\"@peth don't need your eth\"],\n  },\n  '51:16': {\n    name: \"SoureCred's Meeting Channels\",\n    speakers: ['@Michiel'],\n  },\n  '53:55': {\n    name: 'Curious & Engaged Work',\n    speakers: [\"@peth don't need your eth\", '@Michiel', '@dysbulic', '@TomBalls'],\n  },\n  '01:00:05': {\n    name: 'stepan Presents',\n    speakers: ['@stepan'],\n  }\n}\n\nexport default {\n  title,\n  startTime: isoStringFor(startTime),\n  source: url,\n  stops,\n}","const props = [\n  { bg: '#19FF20' },\n  { bg: '#FF0000BB' },\n  { bg: 'pink' },\n  { bg: 'blue', color: 'white' },\n  { bg: 'orange' },\n  { bg: 'green', color: 'white' },\n  { bg: 'teal', color: 'white' },\n  { bg: 'purple', color: 'white' },\n  { bg: 'darkgray', color: 'white' },\n  { bg: 'cyan' },\n  { bg: 'black', color: 'red' },\n]\nconst proppedTags = []\nexport const propsFor = (info) => {\n  const search = info.tags?.[0] ?? info.speakers?.[0]\n  if(!search) return { bg: 'orange' }\n\n  let idx = proppedTags.indexOf(search)\n  if(idx < 0) {\n    idx = proppedTags.length\n    proppedTags.push(search)\n  }\n  idx = idx % props.length\n  return props[idx]\n}\n\nexport const isSet = (value) => (\n  Boolean(value) || value === 0\n)\n\nexport const ifSet = (value, { default: def } = {}) => (\n  isSet(value) ? value : def\n)\n\nexport const durationFor = (str) => {\n  if(typeof str !== 'string') {\n    throw new Error(`Bad Argument: expected string, got ${typeof str}`)\n  }\n  const [from, to = from] = str.split('‒').map(timeFor)\n  return {\n    startsOffset: from,\n    duration: to - from,\n  }\n}\n\nexport const timeFor = (str, { default: def } = {}) => (\n  !isSet(str) ? def : (\n    (() => {\n      str = str.toString()\n      const [secondsStr, minutesStr, hoursStr, ...rest] = (\n        str.split(':').reverse()\n      )\n      if(rest.length >= 1) {\n        console.warn(`Got [${rest}] extraneous parameters in ${str}.`)\n      }\n      let [seconds, minutes, hours] = ([\n        parseFloat(ifSet(secondsStr) ?? 0 ),\n        parseInt(ifSet(minutesStr) ?? 0),\n        parseInt(ifSet(hoursStr) ?? 0),\n      ])\n      minutes += hours * 60\n      return seconds + minutes * 60\n    })()\n  )\n)\n\nexport const stringFor = (time, { default: def } = {}) => {\n  if(!isSet(time)) return def\n\n  const sign = time < 0 ? '−' : ''\n  const hours = Math.floor(Math.abs(time / (60 * 60)))\n  const minutes = (\n    Math.floor(Math.abs((time % (60 * 60)) / 60))\n  )\n  const seconds = Math.floor(Math.abs(time % 60))\n  const milliseconds = (\n    Math.abs(time) - Math.floor(Math.abs(time))\n  )\n\n  if(\n    ![hours, minutes, seconds, milliseconds].reduce(\n      (acc, num) => acc && !isNaN(num),\n      true\n    )\n  ) {\n    return def\n  }\n\n  let [msStr] = (\n    milliseconds.toFixed(4).split('.').slice(-1)\n  )\n  msStr = msStr.replace(/0+$/, '')\n\n  return (\n    `${sign}${\n      hours > 0 ? (\n        `${hours}:${minutes.toString().padStart(2, '0')}`\n      ) : (\n        minutes\n      )\n    }:${\n      seconds.toString().padStart(2, '0')\n    }${\n      msStr === '' ? '' : `.${msStr}`\n    }`\n  )\n}\n\nexport const isoStringFor = (date, opts = {}) => {\n  const tzo = -date.getTimezoneOffset()\n  const dif = tzo >= 0 ? '+' : '-'\n  const pad = (num) => {\n    const norm = Math.floor(Math.abs(num));\n    return (norm < 10 ? '0' : '') + norm;\n  }\n  const { dateSeparator: sep = '-' } = opts\n\n  let ret = ''\n  if(opts.date !== false) {\n    ret += (\n      date.getFullYear()\n      + sep + pad(date.getMonth() + 1)\n      + sep + pad(date.getDate())\n    )\n    if(opts.time !== false) {\n      ret += 'T'\n    }\n  }\n  if(opts.time !== false) {\n    ret += (\n      pad(date.getHours())\n      + ':' + pad(date.getMinutes())\n    )\n    if(opts.seconds ?? true) {\n      ret += ':' + pad(date.getSeconds())\n    }\n    if(opts.tz !== false) {\n      ret += `​(ᴜᴛᴄ${dif}${Math.abs(tzo / 60)}`\n      if((opts.tzMinutes ?? true) || tzo % 60 !== 0) {\n        ret += ':' + pad(tzo % 60)\n      }\n      ret += ')'\n    }\n  }\n  return ret\n}","export default {\n  '/': (\n    'QmZKXnvufBf2ZFEVqF78LPbfdEceShZ5QPubSjEViYWZ5X'\n  ),\n}","import CID from './cid'\nimport { isoStringFor } from 'utils'\n\nexport const startTime = new Date('2021-04-25T21:55:37-0400')\nexport const url = `https://ipfs.io/ipfs/${CID['/']}`\nexport const title = 'Raid Guild Initial Consultation Call w/ @joshsdoug'\n\nexport const stops = {\n  '00:00': {\n    name: 'Musical Intro',\n    tags: ['skippable']\n  },\n  '08:45': {\n    name: 'High Volume',\n    tags: ['chatter'],\n  },\n  '09:30': {\n    name: 'Blood Pressure',\n    tags: ['BP'],\n  },\n  '10:37': {\n    name: 'Bleeding Edge',\n    tags: ['pertinent'],\n  },\n  '13:06': {\n    name: 'Ceramic',\n    tags: ['pertinent'],\n  },\n  '15:26': {\n    name: 'Jitsi',\n    tags: ['logistics'],\n  },\n  '17:40': {\n    name: 'Call me “Δυς”.',\n    tags: ['personal'],\n  },\n  '18:04': {\n    name: 'Blood Pressure',\n    tags: ['BP'],\n  },\n  '18:50': {\n    name: 'Reread',\n    tags: ['skippable'],\n  },\n  '19:32': {\n    name: 'Peyote',\n    tags: ['BP'],\n  },\n  '20:16': {\n    name: 'Fractured',\n    tags: ['skippable'],\n  },\n  '20:54': {\n    name: 'BP Persistence',\n    tags: ['BP'],\n  },\n  '22:48': {\n    name: 'Reschedule',\n    tags: ['logistics'],\n  },\n  '24:06': {\n    name: 'Jitsi Found',\n    tags: ['logistics'],\n  },\n  '24:45': {\n    name: 'Stretch Goals',\n    tags: ['skippable'],\n  },\n  '25:45': {\n    name: 'Anarchism',\n    tags: ['pertinent'],\n  },\n  '26:45': {\n    name: 'Passed',\n    tags: ['personal'],\n  },\n  '28:23': {\n    name: 'Triage List',\n    tags: ['tangential'],\n  },\n  '30:08': {\n    name: 'Scattered',\n    tags: ['skippable'],\n  },\n  '33:29': {\n    name: 'Français',\n    tags: ['logistics'],\n  },\n  '35:15': {\n    name: \"Odin's Eye\",\n    tags: ['pertinent'],\n  },\n  '35:41': {\n    name: 'Hard Stop',\n    tags: ['logistics'],\n  },\n  '36:20': {\n    name: 'BP Resolution',\n    tags: ['BP'],\n  },\n  '36:43': {\n    name: 'Pairing Partners',\n    tags: ['pertinent'],\n  },\n  '37:21': {\n    name: 'Beggars in Spain',\n    tags: ['recommendation'],\n  },\n  '37:27': {\n    name: 'Ancillae',\n    tags: ['skippable'],\n  },\n  '37:53': {\n    name: 'Kubernetes',\n    tags: ['pertinent'],\n  },\n  '38:38': {\n    name: 'BP Mindlessness',\n    tags: ['BP'],\n  },\n  '40:00': {\n    name: 'Render Tree',\n    tags: ['algorithm'],\n  },\n  '41:25': {\n    name: (\n      '[Donnie Darko](https://ipfs.io/ipfs/QmTAdBoj7guxtLroQrdFTHrA1M2vSa37VQZoh4D77rdANc/Donnie.Darko.2001.mp4)'\n    ),\n    tags: ['recommendation'],\n  },\n  '43:42': {\n    name: 'Kinesthetic Reasoning',\n    tags: ['psych'],\n  },\n  '44:19': {\n    name: 'T-minus 5 Minutes',\n    tags: ['logistics'],\n  },\n  '44:52': {\n    name: '¿Will it happen?',\n    tags: ['pitch', 'pertinent'],\n  },\n  '46:27': {\n    name: 'Revolution through Election',\n    tags: ['pertinent'],\n  },\n  '47:22': {\n    name: '¿What year is it?',\n    tags: ['pitch', 'pertinent'],\n  },\n  '49:45': {\n    name: '1968',\n    tags: ['pertinent'],\n  },\n  '50:35': {\n    name: 'Dissatisfied',\n    tags: ['logistics'],\n  },\n  '52:48': {\n    name: '¿Make Sense?',\n    tags: ['pertinent'],\n  },\n  '53:26': {\n    name: \"Inch'allah\",\n    tags: ['logistics'],\n  },\n  '53:34': {\n    name: 'Euthanasia',\n    tags: ['personal'],\n  },\n  '54:04': {\n    name: 'Dead Air',\n    tags: ['skippable'],\n  },\n}\n\nexport default {\n  title,\n  startTime: isoStringFor(startTime),\n  source: url,\n  stops,\n}","var map = {\n\t\"./w/@dysbulic & @Huxwell/2021/08/24/@/15/32/04/‒/17/40/05/T/−4/js\": [\n\t\t1295,\n\t\t4\n\t],\n\t\"./w/MetaGame’s Builders/on/-3/♋/7/@/1/26/‒/1/78/js\": [\n\t\t896,\n\t\t0\n\t],\n\t\"./w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/12/25/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/Dhuʻl-Hijjah/25/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/ذو الحجة/25/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/2021/07/14/@/10/00/ᴇᴛ/‒/11/30/ᴇᴛ/js\": [\n\t\t896,\n\t\t0\n\t],\n\t\"./w/Raid Guild/cleric/@joshsdoug/1/js\": [\n\t\t658\n\t],\n\t\"./w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js\": [\n\t\t658\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 998;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}