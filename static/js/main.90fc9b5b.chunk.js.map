{"version":3,"sources":["utils.js","ChapterList.jsx","play.png","pause.png","Tags.jsx","ChapteredVideo.jsx","View.jsx","New.jsx","ListAvailable.jsx","App.jsx","index.jsx","../src lazy /^/.//.*//js$/ groupOptions: {} namespace object"],"names":["proppedTags","propsFor","info","search","tags","speakers","bg","idx","indexOf","length","push","color","stringFor","time","Number","hours","Math","floor","minutes","seconds","toString","padStart","Row","chapter","active","head","paused","seekTo","index","video","props","title","name","end","currentTime","start","useState","highlight","setHighlight","cell","useRef","clicked","elem","pause","play","gradient","percent","cursor","align","sx","onClick","ref","evt","current","bBox","target","getBoundingClientRect","clientX","left","width","onMouseMove","max","onMouseOut","map","t","i","style","textAlign","border","display","pt","chapters","allTags","activeTags","activeChapter","console","maxH","overflow","th","some","setActiveTags","colorScheme","px","onChange","Object","fromEntries","tag","checked","isChecked","ts","defaultTags","Video","chakra","stops","src","vid","setTime","values","setChapters","useEffect","prev","entries","str","split","reverse","secondsStr","minutesStr","hoursStrs","warn","parseFloat","undefined","chapterIdx","URLSearchParams","window","location","get","parseInt","update","now","find","nxt","currentClicked","addEventListener","removeEventListener","Set","flat","as","templateRows","templateColumns","rowSpan","colSpan","p","controls","w","minW","type","Tags","ChapterList","source","useLocation","pathname","setInfo","a","relSource","replace","mt","size","url","ChapteredVideo","CERAMIC_URL","process","IPFS_URL","REACT_APP_IPFS_URI","DEF","ids","definitions","ConsultVideoIndex","NewVideoModal","isOpen","onClose","setVideos","ceramic","ipfs","Date","toISOString","startTime","tabIndex","creating","setCreating","add","anchorless","_str","$1","id","videos","TileDocument","load","tile","toUrl","create","schema","schemas","ConsultVideoMetadata","family","controllers","did","merge","pin","record","keys","isFitted","variant","mb","placeholder","ml","loadingText","isLoading","disabled","useMemo","Ceramic","IDX","autopin","ipfsHTTPClient","useDisclosure","onOpen","threeIdConnect","ThreeIdConnect","ethereum","enable","addresses","authProvider","EthereumAuthProvider","connect","DID","provider","getDidProvider","resolver","ThreeIdResolver","getResolver","authenticate","remove","set","maxW","justify","icon","Delete","to","exact","path","component","New","ListAvailable","View","ReactDOM","render","StrictMode","App","document","getElementById","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","module","exports"],"mappings":"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","file":"static/js/main.90fc9b5b.chunk.js","sourcesContent":["const props = [\n  { bg: '#19FF20' },\n  { bg: 'red' },\n  { bg: 'pink' },\n  { bg: 'blue', color: 'white' },\n  { bg: 'orange' },\n  { bg: 'green', color: 'white' },\n  { bg: 'teal', color: 'white' },\n  { bg: 'purple', color: 'white' },\n  { bg: 'darkgray', color: 'white' },\n  { bg: 'cyan' },\n]\nconst proppedTags = []\nexport const propsFor = (info) => {\n  const search = info.tags?.[0] ?? info.speakers?.[0]\n  if(!search) return { bg: 'orange' }\n\n  let idx = proppedTags.indexOf(search)\n  if(idx < 0) {\n    idx = proppedTags.length\n    proppedTags.push(search)\n  }\n  if(idx >= proppedTags.length) {\n    return { bg: 'black', color: 'red' }\n  }\n  return proppedTags[idx]\n}\n\nexport const timeFor = (str) => (\n  (str) ? ((() => {\n    const [secondsStr, minutesStr, ...hoursStrs] = str.split(':').reverse()\n    if(hoursStrs.length > 1) {\n      console.warn(`Got ${hoursStrs} for hours parsing ${str}.`)\n    }\n    let [seconds, minutes, hours] = (\n      [parseFloat(secondsStr), parseFloat(minutesStr ?? 0), parseFloat(hoursStrs?.[0] ?? 0)]\n    )\n    minutes += hours * 60\n    return seconds + minutes * 60\n  })()) : (\n    undefined\n  )\n)\n\nexport const stringFor = (time) => {\n  if(Number(time) !== time) return undefined\n\n  const hours = Math.floor(time / (60 * 60))\n  const minutes = Math.floor((time % (60 * 60)) / 60)\n  const seconds = time % 60\n\n  return (\n    `${\n      hours > 0 ? (\n        `${hours}:${minutes.toString().padStart(2, '0')}`\n      ) : (\n        minutes\n      )\n    }:${\n      seconds.toString().padStart(2, '0')\n    }`\n  )\n}","import {\n  Spinner, Stack, Table, Tag, Tbody, Td, Th, Thead, Tr,\n} from '@chakra-ui/react'\nimport { useRef, useState } from 'react'\nimport { propsFor, stringFor } from 'utils'\nimport PauseIcon from 'pause.png'\nimport PlayIcon from 'play.png'\n\nexport const Row = ({\n  chapter, active = false, head, paused = true, seekTo,\n  index, video, ...props\n}) => {\n  const {\n    name: title, tags = [], end, start: currentTime\n  } = chapter\n  const [highlight, setHighlight] = useState(null)\n  const cell = useRef(null)\n\n  const clicked = (elem) => {\n    if(active && !video.paused) {\n      video.pause()\n    } else if(active && video.paused) {\n      video.play()\n    } else if(!active) {\n      video.currentTime = elem.start + 0.01 // it misses\n      if(video.paused) {\n        video.play()\n      }\n    }\n  }\n  const seekListener = (evt) => {\n    if(cell.current) {\n      const bBox = evt.target.getBoundingClientRect()\n      seekTo(\n        chapter.start + (\n          (chapter.end - chapter.start)\n          * ((evt.clientX - bBox.left) / bBox.width)\n        )\n      )\n      if(video.paused) {\n        video.play()\n      }\n    }\n  }\n  const seekHover = (evt) => {\n    const bBox = evt.target.getBoundingClientRect()\n    setHighlight(\n      100 * Math.max(0, (evt.clientX - bBox.left) / bBox.width)\n    )\n  }\n\n  let gradient = null\n  if(active) {\n    const percent = (\n      100 * ((head - currentTime) / (end - currentTime))\n    )\n    gradient = (\n      `linear-gradient(\n        to right, red, red ${percent}%,\n        transparent ${percent + 1}%\n      )`\n    )\n  }\n  if(highlight) {\n    gradient = (\n      `linear-gradient(\n        to right, #ff9b37BB, #ff9b37BB ${highlight}%,\n        transparent ${highlight + 1}%\n      )\n      ${gradient ? `, ${gradient}` : ''}`\n    )\n  }\n\n  const cursor = !active || video?.paused ? PlayIcon : PauseIcon\n\n  return (\n    <Tr\n      align=\"center\"\n      {...propsFor(chapter)}\n      {...props}\n      sx={{ cursor: `url(${cursor}), auto`}}\n    >\n      <Td onClick={() => clicked(chapter)}>{index}</Td>\n      <Td\n        ref={cell}\n        bg={gradient}\n        onClick={seekListener}\n        onMouseMove={seekHover}\n        onMouseOut={() => setHighlight(null)}\n        cursor=\"col-resize\"\n      >\n        {`${\n          stringFor(currentTime)\n        }${\n          end ? `+${stringFor(end - currentTime)}` : '‒'\n        }`}\n      </Td>\n      <Td onClick={() => clicked(chapter)}>{title}</Td>\n      <Td onClick={() => clicked(chapter)}><Stack>\n        {tags.map((t, i) => (\n          <Tag\n            key={i}\n            style={{ textAlign: 'center' }}\n            border=\"2px solid #00000066\"\n            {...propsFor(chapter)}\n            display=\"block\"\n            pt={0.5}\n          >{t}</Tag>\n        ))}\n      </Stack></Td>\n      <Td onClick={() => clicked(chapter)}>\n        {(currentTime < head && head < end && !paused) ? (\n          <Spinner/>\n        ) : (\n          paused ? '▶️' : '⏸️'\n        )}\n      </Td>\n    </Tr>\n  )\n}\n\nexport default ({\n  chapters = [], allTags = [], activeTags, time, activeChapter,\n  video, seekTo,\n}) => {\n  console.info({ chapters })\n\n  return (\n    <Table\n      maxH=\"100vh\" overflow=\"scroll\"\n      sx={{ th: { textAlign: 'center' }}}\n    >\n      <Thead>\n        <Tr>\n          <Th>Index</Th>\n          <Th>Time</Th>\n          <Th>Name</Th>\n          <Th>Tags</Th>\n          <Th>Active</Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {chapters.map((chapter, idx) => {\n          if(\n            allTags.length > 0\n            && !chapter.tags?.some(t => activeTags[t])\n          ) {\n            return null\n          }\n          return (\n            <Row\n              key={idx}\n              index={idx}\n              head={time}\n              active={activeChapter === chapter}\n              {...{ video, chapter, seekTo }}\n              paused={!video || video.paused}\n            />\n          )\n        })}\n      </Tbody>\n    </Table>\n  )\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAFjAAABYwGNYDK3AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAj1JREFUSIntlstOFEEUhr9TXd09ExiuwWRQYUGC4NKQuHKlJu58CTD6TsQX4A28rHRtXIGXIDGCeCEgMyAzVdV1XAwMEBmMOuzmX9bf53ynuhbnF4BKJZ8mmoUI10ATuiopDLzBxMV6vflOKpV8WtQu9qU6YRARou8mTjFpVNV60A8i8aElmoWS1erNMat3L5uNgUxCN4E1p/bpRhx/+aWoNgvmTYQZAe6My2a3YQADmYTbV2QTIMKsBckULSq5+e1X1p1ap2JOniUm6lDa+nbPa9KMcurNBRjJcaegqfGoFiCZ7TTZ66049ORzMdEIYlttAJSS1XB/kjVrJC6tFVP7Ls0Qadflxhf3JuTj3KjZPqtvR+D3hpZ+uFLuwqU0IVWAgJNGsRV2mo0MYM9l+UGoplZafkGQwnwNOwct/6+AAKqJVLLrfiS/4VpDvMh9sdO+jiL0pVfDWOlWE2C7+SprhG+mUz+Ac82LUA/YA/aAPWAP+P86d1sISt2/TX/6VQsQ1EuWaDj2I/v+k22GpQRa6ykzem5q6AgcLovrswcuKdbj0VkGlG0Iw7lxCvRb72BDOdzAKVBOvB8uG9ehbWfg3KjZnuqnHo/X/WGB0cHDOPJoluUAAtr2DUaHz4grJ4DqBElqPqZHWaV9yzMLj5998A/+kWo+pogkEJ0xsKLA83Wt7vqYdprsX7XrY/psXauHoyy3gjDJ44qVSRHEdDkIx1YQjnUvq2LCA4F21J+PMHNBUX9FkrhYqzXf/wLIlPPPTOCZTAAAAABJRU5ErkJggg==\"","import { Checkbox, CheckboxGroup, Flex, Tag, Wrap } from \"@chakra-ui/react\"\nimport { propsFor } from 'utils'\n\nexport default ({ allTags, activeTags, setActiveTags }) => {\n  if(allTags.length === 0) return null\n\n  return (\n    <CheckboxGroup\n      colorScheme=\"green\"\n    >\n      <Flex>\n        <Checkbox\n          px={8}\n          onChange={(evt) => (\n            setActiveTags(\n              Object.fromEntries(\n                allTags.map((tag) => (\n                  [tag, evt.target.checked]\n                ))\n              )\n            )\n          )}\n        />\n        <Wrap>\n          {allTags.map((t, i) => {\n            const changed = (evt) => (\n              setActiveTags((ts) => ({\n                ...ts,\n                [t]: evt.target.checked,\n              }))\n            )\n            return (\n              <Tag key={i} border=\"2px solid #00000066\" {...propsFor(t)}>\n                <Checkbox key={i} isChecked={activeTags[t]} onChange={changed}>\n                  {t}\n                </Checkbox>\n              </Tag>\n            )\n          })}\n        </Wrap>\n      </Flex>\n    </CheckboxGroup>\n  )\n}","import {\n  CheckboxGroup, Checkbox, Flex, GridItem, Grid, Tag,\n  Wrap, Heading, chakra,\n} from '@chakra-ui/react'\nimport ChapterList from 'ChapterList'\nimport { useEffect, useRef, useState } from 'react'\nimport Tags from 'Tags'\nimport { timeFor } from 'utils'\n\nconst defaultTags = ['pitch', 'pertinent']\n\nconst Video = chakra('video')\n\nexport default ({ stops = {}, title, src }) => {\n  const vid = useRef()\n  const info = useRef()\n  const [activeTags, setActiveTags] = useState(\n    Object.fromEntries(\n      defaultTags.map(t => [t, true])\n    )\n  )\n  const [time, setTime] = useState(0)\n  const [chapters, setChapters] = (\n    useState(Object.values(stops))\n  )\n\n  const seekTo = (time) => {\n    vid.current.currentTime = time\n  }\n  const clicked = (elem) => {\n    const currentClicked = info.current === elem\n    if(currentClicked && !vid.current.paused) {\n      vid.current.pause()\n    } else if(currentClicked && vid.current.paused) {\n      vid.current.play()\n    } else if(!currentClicked) {\n      vid.current.currentTime = elem.start + 0.01 // it misses\n      if(vid.current.paused) {\n        vid.current.play()\n      }\n    }\n  }\n\n  useEffect(() => {\n    let prev\n    setChapters(\n      Object.entries(stops).map(([time, chapter]) => {\n        chapter.start = timeFor(time)\n        if(prev) {\n          prev.end = chapter.start\n        }\n        return prev = chapter\n      })\n    )\n  }, [stops])\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search)\n    const chapterIdx = params.get('chapter')\n    if(chapterIdx) {\n      seekTo(\n        chapters[parseInt(chapterIdx)].start\n      )\n    }\n  }, [chapters])\n\n  useEffect(() => {\n    const video = vid.current\n    const update = (evt) => {\n      const time = evt.target.currentTime\n      setTime(time)\n      let now = chapters.find(\n        (info) => info.start < time && time <= info.end\n      )\n      if(now && !now.tags?.some(t => activeTags[t])) {\n        const nxt = chapters.find(\n          (info) => (\n            info.tags?.some(t => activeTags[t])\n            && info.start >= time\n          )\n        )\n        if(nxt) {\n          clicked(nxt)\n          now = nxt\n        }\n      }\n      info.current = now\n    }\n    video.addEventListener('timeupdate', update)\n    return () => {\n      video.removeEventListener('timeupdate', update)\n    }\n  }, [activeTags, chapters])\n\n  const allTags = [...new Set(\n    chapters\n    .map(info => info.tags ?? [])\n    .flat()\n  )]\n\n  return (\n    <Grid\n      as=\"form\"\n      templateRows=\"0fr 1fr 0fr\"\n      templateColumns={['1fr', '1fr 0fr']}\n      maxH=\"95vh\"\n    >\n      <GridItem rowSpan={1} colSpan={2}>\n        <Heading textAlign=\"center\" p={5}>\n          {info.current?.name ?? title}\n        </Heading>\n      </GridItem>\n      <GridItem rowSpan={1} colSpan={2}>\n        <Video\n          controls\n          ref={vid}\n          w=\"100%\" minW={64} maxH=\"95vh\"\n        >\n          <source {...{ src, type: 'video/mp4' }}/>\n          {/* {VTT && <track default src={VTT}/>} */}\n        </Video>\n      </GridItem>\n      <GridItem rowSpan={1} colSpan={1}>\n        <Tags {...{ allTags, activeTags, setActiveTags }}/>\n      </GridItem>\n      <GridItem rowSpan={2} colSpan={1}>\n        <ChapterList\n          {...{ chapters, time, seekTo }}\n          activeChapter={info.current}\n          video={vid.current}\n        />\n      </GridItem>\n    </Grid>\n  )\n}","import { useState } from 'react'\nimport { Flex, Heading, Spinner, Stack } from '@chakra-ui/react'\nimport { useLocation } from 'react-router'\nimport ChapteredVideo from 'ChapteredVideo'\nimport { useEffect } from 'react'\n\nexport default () => {\n  const { pathname: source } = useLocation()\n  const [info, setInfo] = useState(null)\n\n  useEffect(() => {\n    (async () => {\n      const relSource = source.replace(/^\\/?(.+?)\\/?$/, '$1')\n      setInfo(await import(`./${relSource}/js`))\n    })()\n  }, [source])\n\n  if(!info) {\n    return (\n      <Stack align=\"center\" mt={10}>\n        <Heading size=\"sm\">{source}</Heading>\n        <Spinner/>\n      </Stack>\n    )\n  }\n\n  const { title, stops, url: src } = info\n  return <ChapteredVideo {...{ title, stops, src }}/>\n}","import ThreeIdResolver from '@ceramicnetwork/3id-did-resolver'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { IDX } from '@ceramicstudio/idx'\nimport { DID } from 'dids'\nimport {\n  ThreeIdConnect, EthereumAuthProvider,\n} from '@3id/connect'\nimport ids from 'ceramicIds.json'\nimport {\n  Box, Button, Flex, FormControl, FormLabel, IconButton, Input, ListItem, Modal, ModalBody, ModalCloseButton, ModalContent, ModalFooter, ModalHeader, ModalOverlay, Spinner, Stack, Tab, TabList, TabPanel, TabPanels, Tabs, UnorderedList, useDisclosure,\n} from '@chakra-ui/react'\nimport { DeleteIcon } from '@chakra-ui/icons'\nimport Markdown from 'react-markdown'\nimport { useEffect, useState, useMemo } from 'react'\nimport { TileDocument } from '@ceramicnetwork/stream-tile'\nimport { create as ipfsHTTPClient } from 'ipfs-http-client'\n\nconst CERAMIC_URL = (\n  process.env.CERAMIC_URL\n  || 'http://localhost:7007'\n  || 'https://d12-a-ceramic.3boxlabs.com'\n)\nconst IPFS_URL = (\n  process.env.REACT_APP_IPFS_URI ?? '/ip4/127.0.0.1/tcp/5001'\n)\n\nconst DEF = ids.definitions.ConsultVideoIndex\n\nconst NewVideoModal = ({\n  isOpen, onClose, setVideos, ceramic, idx, ipfs,\n\n}) => {\n  const [startTime, setStartTime] = (\n    useState((new Date()).toISOString())\n  )\n  const [title, setTitle] = useState('')\n  const [url, setURL] = useState('')\n  const [tabIndex, setTabIndex] = useState(0)\n  const [creating, setCreating] = useState(null)\n\n  const video = async () => {\n    setCreating('Starting')\n    const video = { startTime, title }\n    if(tabIndex === 0) {\n      video.url = url\n    } else {\n      ipfs.add()\n    }\n    const anchorless = video.title.replace(\n      /\\[([^\\]]+)\\]\\([^)]+\\)/g, (_str, $1) => $1\n    )\n    const id = `${video.startTime}: ${anchorless}`\n    setCreating('Checking IDX for Index')\n    const videos = (await idx.get(DEF)) ?? {}\n    let tile\n    if(videos[id]) {\n      setCreating('Loading Existing Tile')\n      tile = await TileDocument.load(ceramic, videos[id])\n      console.info('Existing', tile.id.toUrl())\n    } else {\n      setCreating('Creating New Tile')\n      tile = (await TileDocument.create(\n        ceramic,\n        null,\n        {\n          schema: ids.schemas.ConsultVideoMetadata,\n          family: 'Consult Video',\n          controllers: [ceramic.did.id],\n        },\n      ))\n      console.info('created', tile.id.toUrl())\n      setCreating('Updating IDX Index')\n      const record = await (\n        idx.merge(DEF, { [id]: tile.id.toUrl() }, { pin: true })\n      )\n      console.info('added', record.toUrl())\n      videos[id] = tile.id.toUrl()\n      setVideos(Object.keys(videos))\n    }\n    setCreating('Updating Video Metadata')\n    await tile.update(video)\n    console.info('updated', id)\n    setCreating(null)\n  }\n\n  return (\n    <Modal {...{ isOpen, onClose }}>\n      <ModalOverlay/>\n      <ModalContent>\n        <ModalHeader>New Video</ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody>\n        <FormControl>\n            <FormLabel>Title</FormLabel>\n            <Input/>\n          </FormControl>\n          <FormControl>\n            <FormLabel>Start Time</FormLabel>\n            <Input type=\"datetime-local\"/>\n          </FormControl>\n          <Tabs isFitted variant=\"enclosed\">\n            <TabList mb=\"1em\">\n              <Tab>URL</Tab>\n              <Tab>Upload</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <Input placeholder=\"ipfs://…\"/>\n              </TabPanel>\n              <TabPanel>\n                <Input type=\"file\"/>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          <Button variant=\"ghost\" onClick={onClose}>Cancel</Button>\n          <Button colorScheme=\"blue\" ml={3}>\n            Save\n          </Button>\n          <Button\n            w={72} loadingText={creating}\n            onClick={video}\n            isLoading={!!creating}\n            disabled={creating !== null}\n          />\n\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nexport default () => {\n  const ceramic = useMemo(\n    () => new Ceramic(CERAMIC_URL), []\n  )\n  const idx = useEffect(\n    () => new IDX({ ceramic, autopin: true }),\n    [ceramic],\n  )\n  const ipfs = useMemo(\n    () => new ipfsHTTPClient(IPFS_URL), []\n  )\n  const [videos, setVideos] = useState([])\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  \n  useEffect(() => {\n    (async () => {\n      const threeIdConnect = new ThreeIdConnect()\n      const addresses = await window.ethereum.enable()\n      const authProvider = new EthereumAuthProvider(\n        window.ethereum, addresses[0]\n      )\n      await threeIdConnect.connect(authProvider)\n      const did = new DID({\n        provider: threeIdConnect.getDidProvider(),\n        resolver: ThreeIdResolver.getResolver(ceramic)\n      })\n      await did.authenticate()\n      ceramic.did = did\n      console.info('DID', did.id)\n    })()\n  }, [])\n\n  useEffect(() => {\n    if(ceramic && idx) {\n      (async () => {\n        const videos = await idx.get(DEF)\n        console.info('SET VIDS', videos)\n        setVideos(Object.keys(videos))\n      })()\n    }\n  }, [ceramic, idx, DEF])\n\n  const remove = async (id) => {\n    const videos = (await idx.get(DEF)) ?? {}\n    if(!videos[id]) {\n      console.warn('Removing Nonexistent Id', id)\n    }\n    delete videos[id]\n    console.info({ videos }, Object.keys(videos))\n    await idx.set(DEF, videos)\n    console.info('SET', [])\n    setVideos([])\n  }\n\n  console.info({ videos })\n\n  return (\n    <Box align=\"center\" mt={10}>\n      <Stack maxW=\"50rem\" align=\"center\">\n        <Button\n          w={72} onClick={onOpen}\n          disabled={!ceramic || !idx}\n        >\n          New Video\n        </Button>\n        <UnorderedList>\n          {videos.map((vid) => (\n            <ListItem key={vid}><Flex justify=\"center\">\n              <Markdown>{vid}</Markdown>\n              <IconButton\n                aria-label=\"Remove\" icon={<DeleteIcon/>}\n                size=\"sm\" ml={5} onClick={() => remove(vid)}\n              />\n            </Flex></ListItem>\n          ))}\n        </UnorderedList>\n      </Stack>\n      <NewVideoModal {...{\n        isOpen, onClose, ceramic, idx, ipfs,\n      }}/>\n    </Box>\n  )\n}","import { Link } from 'react-router-dom'\nimport { ListItem, UnorderedList } from \"@chakra-ui/react\";\n\nexport default () => (\n  <UnorderedList>\n    {\n      [\n        'w/MetaGame’s Builders/on/1442/12/25/@/1/27/‒/1/77/',\n        'w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/',\n      ]\n      .map((url, idx) => (\n        <ListItem key={idx}><Link to={url}>\n          {url}\n        </Link></ListItem>\n      ))\n    }\n  </UnorderedList>\n)","import View from 'View'\nimport New from 'New'\nimport ListAvailable from 'ListAvailable'\nimport {\n  HashRouter as Router, Switch, Route,\n} from 'react-router-dom'\n\nexport default () => (\n  <Router>\n    <Switch>\n      <Route exact path=\"/new\" component={New}/>\n      <Route exact path=\"/\" component={ListAvailable}/>\n      <Route path=\"/\" component={View}/>\n    </Switch>\n  </Router>\n)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ChakraProvider } from '@chakra-ui/react'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChakraProvider>\n      <App />\n    </ChakraProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","var map = {\n\t\"./w/MetaGame’s Builders/on/-3/♋/7/@/1/26/‒/1/78/js\": [\n\t\t733,\n\t\t1\n\t],\n\t\"./w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js\": [\n\t\t535,\n\t\t0\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/12/25/@/1/27/‒/1/77/js\": [\n\t\t535,\n\t\t0\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/Dhuʻl-Hijjah/25/@/1/27/‒/1/77/js\": [\n\t\t535,\n\t\t0\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/ذو الحجة/25/@/1/27/‒/1/77/js\": [\n\t\t535,\n\t\t0\n\t],\n\t\"./w/MetaGame’s Builders/on/2021/07/14/@/10/00/ᴇᴛ/‒/11/30/ᴇᴛ/js\": [\n\t\t733,\n\t\t1\n\t],\n\t\"./w/Raid Guild/cleric/@joshsdoug/1/js\": [\n\t\t732,\n\t\t2\n\t],\n\t\"./w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js\": [\n\t\t732,\n\t\t2\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 754;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}