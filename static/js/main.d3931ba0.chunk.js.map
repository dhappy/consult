{"version":3,"sources":["ceramic.svg","MarkedVideo.jsx","View.jsx","New.jsx","ListAvailable.jsx","App.jsx","index.jsx","w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/cid.js","w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js.jsx","utils.js","w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/cid.js","w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js.jsx","../src lazy /^/.//.*//js$/ groupOptions: {} namespace object"],"names":["DEFAULT_DURATION","Math","pow","Video","chakra","colors","colorIds","colorFor","id","index","indexOf","push","length","newNode","obj","Object","assign","uuid","children","partition","visit","node","method","apply","parent","isSet","connect","root","stops","Array","isArray","rent","map","child","clone","Spans","count","hovered","setHovered","duration","startOffset","rest","keys","idx","key","heightPercent","className","includes","top","height","position","_before","content","zIndex","opacity","left","bottom","right","bg","p","w","sx","onMouseEnter","ids","mouseOver","onMouseLeave","dup","splice","mouseOut","style","display","flexGrow","minWidth","to","minW","direction","TimeBox","props","whiteSpace","textAlign","lineHeight","m","px","Times","startsAt","time","endsAt","useMemo","Date","getTime","isNaN","ends","isoStringFor","date","tz","split","part","borderTop","borderBottom","onlyTime","setter","str","replace","call","NodeSettings","open","closeNodeSettings","replaceNode","raw","initialRef","useRef","useState","title","setTitle","body","setBody","baseStartOffset","baseDuration","defaultEnd","timeFor","ifSet","stringFor","endOffset","baseEndOffset","setStartOffset","start","end","setDuration","sync","setEndOffset","replacement","fields","gen","entries","forEach","value","size","initialFocusRef","isOpen","onClose","as","onSubmit","evt","preventDefault","textOverflow","overflow","pb","isFitted","variant","mb","mt","ref","autoFocus","onChange","target","minH","placeholder","disabled","ml","fontWeight","onClick","toString","alignSelf","mx","colorScheme","type","Events","insertChild","insertParent","useDisclosure","openNodeSettings","onOpen","dur","timePercent","Option","fontSize","_hover","color","pt","insert","sibling","anchor","siblings","addPartition","addParallel","removeNode","a","findById","result","VideoSettings","closeVideoSettings","info","setInfo","setStartsAt","DateTime","current","config","vid","setTime","setRaw","setStops","source","encodeURI","vidHeight","setVidHeight","openVideoSettings","src","match","useEffect","fix","attr","siblingsOf","gparent","console","warn","pStart","pDur","generate","outer","rawNode","Error","findIndex","slice","URLSearchParams","window","location","search","get","currentTime","seekTo","video","update","addEventListener","removeEventListener","set","templateRows","templateColumns","maxH","rowSpan","colSpan","h","overflowY","self","pos","insertion","rawChild","maxW","controls","align","stripped","strip","metadata","blob","Blob","JSON","stringify","url","URL","createObjectURL","focus","error","CeramicLogo","transform","draggable","onDrag","y","clientY","getBoundingClientRect","max","innerHeight","useLocation","pathname","startsWith","CERAMIC_URL","process","ceramic","Ceramic","TileDocument","load","tile","endsWith","regex","http","fetch","res","json","MarkedVideo","IPFS_URL","REACT_APP_IPFS_URI","DEF","definitions","ConsultVideoIndex","NewVideoModal","setVideos","ipfs","toISOString","startTime","tabIndex","creating","setCreating","add","anchorless","_str","$1","videos","toUrl","create","schema","schemas","ConsultVideoMetadata","family","controllers","did","merge","pin","record","loadingText","isLoading","IDX","autopin","ipfsHTTPClient","remove","loadVideos","threeIdConnect","ThreeIdConnect","ethereum","enable","addresses","authProvider","EthereumAuthProvider","DID","provider","getDidProvider","resolver","ThreeIdResolver","getResolver","authenticate","Promise","all","V1","V2","metas","fromEntries","justify","icon","Delete","docs","setDocs","ethers","providers","JsonRpcProvider","ensProvider","contract","Contract","address","abi","events","useCallback","filter","filters","CAIP_10","queryFilter","addrs","Set","args","caip10","toLowerCase","Caip10Link","fromAccount","caip","ceramicIds","eth","lookupAddress","ens","addr","flat","exact","path","component","New","View","ListAvailable","ReactDOM","render","StrictMode","App","document","getElementById","name","speakers","Boolean","def","default","reverse","secondsStr","minutesStr","hoursStr","parseFloat","parseInt","minutes","sign","hours","floor","abs","seconds","milliseconds","reduce","acc","num","toFixed","msStr","padStart","opts","tzo","getTimezoneOffset","dif","pad","norm","dateSeparator","sep","ret","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","tzMinutes","tags","webpackAsyncContext","req","__webpack_require__","o","resolve","then","e","code","module","exports"],"mappings":"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","file":"static/js/main.d3931ba0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ceramic.0ee77a5c.svg\";","import {\n  Box, Button, ButtonGroup, Flex, GridItem, Grid, Heading,\n  Stack, Spacer, Spinner, chakra, useDisclosure, Input,\n  ModalOverlay, ModalContent, ModalHeader, ModalFooter,\n  ModalCloseButton, ModalBody, FormControl, FormLabel,\n  Modal, Text, Textarea, Divider, Image,\n  Tabs, TabList, TabPanels, Tab, TabPanel,\n} from '@chakra-ui/react'\nimport {\n  useEffect, useRef, useState, useMemo,\n} from 'react'\nimport Markdown from 'react-markdown'\nimport { v4 as uuid } from 'uuid'\nimport { HashLink as Link } from 'react-router-hash-link'\nimport {\n  isoStringFor, stringFor, timeFor, isSet, ifSet,\n} from 'utils'\nimport CeramicLogo from './ceramic.svg'\n\nconst DEFAULT_DURATION = Math.pow(60, 3)\nconst DEFAULT_VID_HEIGHT = 85\n\nconst Video = chakra('video')\n\nconst colors = [\n  'orange', 'red', 'green', 'purple', 'yellow',\n  'silver', 'blue', 'cyan', 'brown',\n  'black', 'white', 'coral', 'gray', 'pink',\n  'olive', 'orangered', 'teal', 'gold',\n]\n\nconst colorIds = []\nconst colorFor = (id) => {\n  let index = colorIds.indexOf(id)\n  if(index < 0) {\n    colorIds.push(id)\n    index = colorIds.length - 1\n  }\n  return colors[index % colors.length]\n}\n\nconst newNode = (obj = {}) => (\n  Object.assign(\n    { id: uuid(), children: [], partition: false },\n    obj,\n  )\n)\n\nconst visit = ({ node, method }) => {\n  let children = node?.children ?? []\n  children = method.apply(\n    node, [{ children, parent: node, visit }]\n  )\n  if(isSet(node.children)) {\n    node.children = children\n  }\n  return node\n}\n\nconst siblingsOf = (node) => {\n  const {\n    parent: { children: siblings } = { children: null }\n  } = node\n  return !node.parent ? [node] : siblings\n}\n\nconst connect = ({ stops }) => {\n  const parent = ({ children = [], parent: rent, visit }) => {\n    children = children.map((child) => {\n      child = visit({ node: newNode(child), method: parent })\n      child.parent = rent\n      return child\n    })\n    return children\n  }\n  let root = stops\n  if(Array.isArray(root)) {\n    root = { children: root }\n  }\n  return visit({ node: newNode(root), method: parent })\n}\n\nconst clone = (stops) => connect({ stops })\n\nconst generate = ({ root, duration, raw }) => {\n  const fix = ({ parent, children, visit }) => {\n    parent.raw = findById(raw, parent.id)\n\n    children.forEach((child) => {\n      ['duration', 'startOffset'].forEach((attr) => {\n        if (typeof child[attr] === 'string') {\n          child[attr] = timeFor(child[attr])\n        }\n      })\n    })\n\n    const siblings = siblingsOf(parent)\n    const index = siblings.indexOf(parent)\n    const gparent = parent.parent\n    if(\n      !isSet(parent.startOffset)\n      || isNaN(parent.startOffset)\n    ) {\n      if(index === 0) {\n        if(gparent) {\n          parent.startOffset = gparent.startOffset\n        } else {\n          parent.startOffset = 0\n        }\n      } else if(index <= siblings.length - 1) {\n        parent.startOffset = (\n          siblings[index - 1].startOffset\n          + siblings[index - 1].duration\n        )\n      } else {\n        console.warn(\n          'Bad Index',\n          { index, parent, siblings },\n        )\n      }\n    }\n\n    if(\n      !isSet(parent.duration)\n      || isNaN(parent.duration)\n    ) {\n      if(index >= 0 && index < siblings.length - 1) {\n        parent.duration = (\n          siblings[index + 1].startOffset\n          - parent.startOffset\n        )\n      } else if(index === siblings.length - 1) {\n        if(parent.parent) {\n          const {\n            startOffset: pStart, duration: pDur\n          } = parent.parent\n          parent.duration = (\n            (pStart + pDur) - parent.startOffset\n          )\n        } else {\n          parent.duration = (\n            duration - parent.startOffset\n          )\n        }\n      } else {\n        console.warn(\n          'Bad Index',\n          { index, parent, siblings },\n        )\n      }\n    }\n  \n    if (!isSet(parent.startOffset)) {\n      console.warn(`No Starting Time`, { parent })\n    }\n    if (!isSet(parent.duration)) {\n      console.warn(`No Event Duration`, { parent })\n    }\n\n    return children.map((child) => (\n      visit({ node: child, method: fix })\n    ))\n  }\n\n  return visit({ node: clone(root), method: fix })\n}\n\nconst Spans = ({ node, count = 1, hovered, setHovered }) => {\n  if (!node) return null\n\n  const mouseOver = (node) => {\n    const ids = []\n    while(node) {\n      ids.push(node.id)\n      node = node.parent\n    }\n    setHovered(ids)\n  }\n  const mouseOut = (node) => {\n    setHovered((ids) => {\n      const dup = [...ids]\n      dup.splice(ids.indexOf(node.id), 1)\n      return dup\n    })\n  }\n\n  const {\n    id, children = [], startOffset,\n    duration, partition, ...rest\n  } = node\n\n  if (Object.keys(rest).length === 0) {\n    return (\n      children.map((child, idx) => (\n        <Spans\n          {...{ duration, hovered, setHovered }}\n          key={idx}\n          node={child}\n          count={count + idx + 1}\n        />\n      ))\n    )\n  }\n\n  const timePercent = 0 //100 * startOffset / duration\n  const heightPercent = (\n    100 * duration / (node.parent?.duration ?? duration)\n  )\n  let className = 'span'\n  if(hovered.includes(node.id)) {\n    className += ' hovered'\n  }\n\n  return (\n    <Flex\n      top={`${timePercent}%`}\n      height={`${heightPercent}%`}\n      position=\"relative\"\n      _before={{\n        content: '\"\"', zIndex: -1,\n        position: 'absolute', opacity: 0.5,\n        top: 0, left: 0, bottom: 0, right: 0,\n        bg: colorFor(node.id),\n      }}\n      p={0} w=\"full\" {...{ className }}\n      sx={{\n        '&.hovered::before': { opacity: 1 }\n      }}\n      onMouseEnter={() => mouseOver(node)}\n      onMouseLeave={() => mouseOut(node)}\n    >\n      <Link\n        style={{\n          display: 'block',\n          flexGrow: 2,\n          minWidth: \"0.75em\",\n        }}\n        to={`#${node.id}`}\n      />\n      <Flex\n        flexGrow={0}\n        minW={node.children.length === 0 ? 0 : '1em'}\n        direction={node.partition ? 'column' : 'row'}\n      >\n        {node.children.map((child, idx) => (\n          <Spans\n            {...{ duration, hovered, setHovered }}\n            key={child.id} node={child}\n            count={count + idx + 1}\n          />\n        ))}\n      </Flex>\n      <Link\n        style={{\n          display: 'block',\n          flexGrow: 1,\n          minWidth: \"0.25em\",\n        }}\n        to={`#${node.id}`}\n      />\n    </Flex>\n  )\n}\n\nconst TimeBox = (({ children, ...props }) => (\n  <Box\n    whiteSpace=\"pre\" textAlign=\"center\"\n    lineHeight=\"1rem\" m=\"0 !important\"\n    px=\"0.1rem\" {...props}\n  >\n    {children}\n  </Box>\n))\n\nconst Times = ({\n  node, startsAt, duration, time,\n  hovered, setHovered, ...props\n}) => {\n  const endsAt = useMemo(() => (\n    new Date(startsAt.getTime() + duration * 1000)\n  ), [startsAt, duration])\n\n  if (!(endsAt instanceof Date) || isNaN(endsAt) || !node) {\n    return null\n  } else {\n    const ends = isoStringFor(\n      endsAt,\n      { date: false, tz: false },\n    )\n\n    return (\n      <Flex {...props}>\n        <Stack key=\"times\">\n          {\n            isoStringFor(startsAt).split('T')\n            .map((part, idx) => (\n              <TimeBox\n                key={idx}\n                borderTop={idx === 0 ? '2px dashed' : ''}\n              >\n                {part}\n              </TimeBox>\n            ))\n          }\n          <Spacer />\n          <TimeBox borderBottom=\"2px dashed\">\n            {ends}\n          </TimeBox>\n        </Stack>\n        <Flex>\n          <Spans {...{ node, hovered, setHovered }} />\n        </Flex>\n      </Flex>\n    )\n  }\n}\n\nconst onlyTime = ({ setter }) => (\n  (str) => {\n    str = (\n      str.replace(/[^0-9\\-−:.]/g, '')\n      .replace(/^(.+)[-−](.*)$/g, '$1$2')\n    )\n    setter.call(this, str)\n    return str\n  }\n)\n\nconst NodeSettings = ({\n  open, closeNodeSettings, node, replaceNode,\n}) => {\n  const { partition, children, raw } = node\n  const initialRef = useRef()\n  const [title, setTitle] = useState(node.title)\n  const [body, setBody] = useState(node.body)\n  const [startOffset, baseStartOffset] = (\n    useState(raw.startOffset ?? '')\n  )\n  const [duration, baseDuration] = (\n    useState(raw.duration ?? '')\n  )\n  const defaultEnd = (\n    timeFor(ifSet(startOffset) ?? node.startOffset)\n    + timeFor(ifSet(duration) ?? node.duration)\n  )\n  const [endOffset, baseEndOffset] = (\n    useState(\n      (isSet(startOffset) && isSet(duration)) ? (\n        stringFor(defaultEnd)\n      ) : (\n        ''\n      )\n    )\n  )\n  const setStartOffset = (str) => {\n    str = onlyTime({ setter: baseStartOffset })(str)\n    const start = (\n      timeFor(ifSet(str) ?? node.startOffset)\n    )\n    if(isSet(endOffset)) {\n      const end = timeFor(endOffset)\n      setDuration(\n        stringFor(end - start),\n        { sync: false },\n      )\n    } else if(isSet(duration)) {\n      const length = timeFor(duration)\n      setEndOffset(\n        stringFor(start + length),\n        { sync: false },\n      )\n    }\n  }\n  const setDuration = (str, { sync } = {}) => {\n    str = onlyTime({ setter: baseDuration })(str)\n    if(sync !== false && (isSet(endOffset) || isSet(startOffset))) {\n      const start = (\n        timeFor(ifSet(startOffset) ?? node.startOffset)\n      )\n      setEndOffset(\n        stringFor(start + timeFor(str)),\n        { sync: false },\n      )\n    }\n  }\n  const setEndOffset = (str, { sync } = {}) => {\n    str = onlyTime({ setter: baseEndOffset })(str)\n    if(\n      sync !== false\n      && (isSet(duration) || isSet(startOffset))\n    ) {\n      const start = (\n        timeFor(ifSet(startOffset) ?? node.startOffset)\n      )\n      const end = timeFor(str)\n      setDuration(\n        stringFor(end - start),\n        { sync: false },\n      )\n    }\n  }\n  const replacement = useMemo(() => {\n    const fields = {\n      title, body, duration, startOffset,\n      partition, children, id: node.id,\n    }\n    const gen = newNode()\n    Object.entries(fields).forEach(\n      ([key, value]) => {\n        if(isSet(value)) {\n          gen[key] = value\n        }\n      }\n    )\n    return gen\n  }, [\n    body, children, duration,\n    partition, startOffset, title,\n    node.id,\n  ])\n  const save = (evt) => {\n    evt.preventDefault()\n    replaceNode({ node, replacement })\n    closeNodeSettings()\n  }\n\n  return (\n    <Modal\n      size=\"xl\" initialFocusRef={initialRef}\n      {...{ isOpen: open, onClose: closeNodeSettings }}\n    >\n      <ModalOverlay/>\n      <ModalContent as=\"form\" onSubmit={save}>\n        <ModalHeader\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          whiteSpace=\"nowrap\"\n        >Node: <q>{title}</q></ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody pb={6}>\n          <Tabs isFitted variant=\"enclosed\">\n            <TabList mb=\"1em\">\n              <Tab>Text</Tab>\n              <Tab>Timing</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <FormControl mt={4}>\n                  <FormLabel>Title</FormLabel>\n                  <Input\n                    ref={initialRef} value={title} autoFocus\n                    onChange={({ target: { value }}) => {\n                      setTitle(value)\n                    }}\n                  />\n                </FormControl>\n                <FormControl mt={4}>\n                  <Tabs isFitted variant=\"enclosed\">\n                    <TabList mb=\"1em\">\n                      <Tab>Body</Tab>\n                      <Tab>Preview</Tab>\n                    </TabList>\n                    <TabPanels>\n                      <TabPanel>\n                        <Textarea\n                          value={body} minH=\"5em\"\n                          placeholder=\"Markdown\"\n                          onChange={({ target: { value }}) => {\n                            setBody(value)\n                          }}\n                        />\n                      </TabPanel>\n                      <TabPanel>\n                        <Markdown>{body}</Markdown>\n                      </TabPanel>\n                    </TabPanels>\n                  </Tabs>\n                </FormControl>\n                <FormControl mt={4}>\n                  <FormLabel>ID</FormLabel>\n                  <Input\n                    value={node.id} disabled\n                  />\n                </FormControl>\n              </TabPanel>\n              <TabPanel>\n                <FormControl>\n                  <FormLabel>Start Offset</FormLabel>\n                  <Flex>\n                    <Input\n                      ref={initialRef} value={startOffset}\n                      placeholder={\n                        'automatic or HH:mm:ss.msms or mm:ss or ssss'\n                      }\n                      onChange={({ target: { value }}) => (\n                        setStartOffset(value)\n                      )}\n                    />\n                    {\n                      startOffset === '' && node.startOffset >= 0\n                      && ((() => {\n                        const time = stringFor(node.startOffset)\n                        return (\n                          <Button\n                            variant=\"outline\"\n                            p={2} ml={2} fontWeight=\"bold\"\n                            onClick={() => {\n                              setStartOffset(time)\n                            }}\n                            title={\n                              `Autocomplete with ${time}`\n                            }\n                          >←</Button>\n                        )\n                      })())\n                    }\n                  </Flex>\n                </FormControl>\n\n                <Flex>\n                  <FormControl mt={4}>\n                    <FormLabel>End Offset</FormLabel>\n                    <Flex>\n                      <Input\n                        placeholder=\"automatic\"\n                        value={endOffset}\n                        onChange={({ target: { value }}) => {\n                          setEndOffset(value)\n                        }}\n                      />\n                      {\n                        endOffset === '' && !!defaultEnd\n                        && ((() => {\n                          const time = stringFor(defaultEnd.toString())\n                          return (\n                            <Button\n                              variant=\"outline\"\n                              p={2} ml={2} fontWeight=\"bold\"\n                              onClick={() => {\n                                setEndOffset(time)\n                              }}\n                              title={\n                                `Autocomplete with ${time}`\n                              }\n                            >←</Button>\n                          )\n                        })())\n                      }\n                    </Flex>\n                  </FormControl>\n                  <Text alignSelf=\"end\" mb={2} mx={2}>or</Text>\n                  <FormControl mt={4}>\n                    <FormLabel>Duration</FormLabel>\n                    <Flex>\n                      <Input\n                        placeholder=\"automatic\"\n                        value={duration}\n                        onChange={({ target: { value }}) => (\n                          setDuration(value)\n                        )}\n                      />\n                      {\n                        !isSet(duration) && isSet(node.duration)\n                        && ((() => {\n                          const time = stringFor(node.duration.toString())\n                          return (\n                            <Button\n                              variant=\"outline\"\n                              p={2} ml={2} fontWeight=\"bold\"\n                              onClick={() => {\n                                setDuration(time)\n                              }}\n                              title={\n                                `Autocomplete with ${time}`\n                              }\n                            >←</Button>\n                          )\n                        })())\n                      }\n                    </Flex>\n                  </FormControl>\n                </Flex>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            colorScheme=\"red\"\n            onClick={closeNodeSettings}\n          >\n            Cancel\n          </Button>\n          <Button\n            type=\"submit\"\n            colorScheme=\"blue\" ml={3}\n          >Save</Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst Events = ({\n  node = {}, insertChild, replaceNode, insertParent,\n  duration, count = 1, hovered, setHovered, ...props\n}) => {\n  const {\n    isOpen: open,\n    onOpen: openNodeSettings,\n    onClose: closeNodeSettings,\n  } = useDisclosure()\n\n  if (!node) return null\n\n  const addChild = (parent) => {\n    insertChild(\n      { parent, insert: { title: 'new' } }\n    )\n  }\n  const addPartition = (sibling) => {\n    const { parent } = sibling\n    if(!parent.partition) {\n      insertParent({\n        child: sibling,\n        insert: { partition: true },\n        siblings: [newNode({ title: 'part' })],\n      })\n    } else {\n      insertChild({\n        parent, insert: { title: 'new' }, anchor: sibling\n      })\n    }\n  }\n  const addParallel = (sibling) => {\n    let { parent } = sibling\n    while(parent.partition && parent.parent) {\n      sibling = parent\n      parent = parent.parent\n    }\n    insertChild({\n      parent, insert: { title: 'para' }, anchor: sibling\n    })\n  }\n  const removeNode = (node) => {\n    replaceNode({ node })\n  }\n\n  const mouseOver = (node) => {\n    const ids = []\n    while(node) {\n      ids.push(node.id)\n      node = node.parent\n    } \n    setHovered(ids)\n  }\n  const mouseOut = (node) => {\n    setHovered((ids) => {\n      const dup = [...ids]\n      dup.splice(ids.indexOf(node.id), 1)\n      return dup\n    })\n  }\n\n  const edit = (node) => {\n    openNodeSettings()\n  }\n\n  const {\n    id, children = [], startOffset,\n    duration: dur, partition, ...rest\n  } = node\n\n  if (Object.keys(rest).length === 0) {\n    return (\n      children.map((child, idx) => {\n        return (\n        <Events\n          {...{\n            duration, insertChild,\n            insertParent, replaceNode,\n            hovered, setHovered,\n          }}\n          key={idx}\n          node={child}\n          count={count + idx}\n        />\n        )\n      })\n    )\n  }\n\n  const timePercent = 100 * startOffset / duration\n  const heightPercent = 100 * dur / duration\n  let className = 'event'\n  if(hovered.includes(node.id)) {\n    className += ' hovered'\n  }\n\n  const Option = ({ children, ...props }) => (\n    <Button\n      {...props}\n      fontWeight=\"normal\" variant=\"outline\" mt={1.25}\n      fontSize={15} p={1} _hover={{ bg: '#00000077' }}\n    >{children}</Button>\n  )\n\n  return (\n    <>\n      <NodeSettings\n        {...{\n          closeNodeSettings, open,\n          node, replaceNode,\n        }}\n      />\n      <Stack\n        id={node.id}\n        top={`${timePercent}%`}\n        minH={`${heightPercent}%`}\n        position=\"relative\"\n        _before={{\n          content: '\"\"', zIndex: -1,\n          position: 'absolute', opacity: 0.5,\n          top: 0, left: 0, bottom: 0, right: 0,\n          bg: colorFor(node.id),\n        }}\n        px={3} w=\"full\"\n        sx={{\n          '&.hovered::before': { opacity: 1 }\n        }}\n        onMouseEnter={() => mouseOver(node)}\n        onMouseLeave={() => mouseOut(node)}\n        {...props} {...{ className }}\n      >\n        {node.title && (\n          <Flex>\n            <Heading\n              fontSize={32} color=\"white\" pt={1.5}\n            >\n              {node.title}\n            </Heading>\n            <Spacer />\n            <ButtonGroup>\n            <Option\n                title=\"Edit This Node\"\n                onClick={() => edit(node)}\n              >✏️</Option>\n              <Option\n                title=\"Create A Child\"\n                onClick={() => addChild(node)}\n              >█ → 🬠</Option>\n              <Option\n                title=\"Create A Partition Sibling\"\n                onClick={() => addPartition(node)}\n              >█ → 🮒</Option>\n              <Option\n                title=\"Create A Parallel Sibling\"\n                onClick={() => addParallel(node)}\n              >█ → 🮔</Option>\n              <Option\n                title=\"Remove Node\"\n                onClick={() => removeNode(node)}\n              >➖</Option>\n            </ButtonGroup>\n          </Flex>\n        )}\n        {isSet(node.body) && (\n          <Box\n            sx={{\n               a: { borderBottom: 'dashed' },\n               'a:hover': { borderBottom: 'solid' },\n            }}\n          >\n            <Divider color=\"white\"/>\n            <Markdown>{node.body}</Markdown>\n          </Box>\n        )}\n        {node.children?.map((child, idx) => (\n          <Events\n            {...{\n              duration, insertChild,\n              insertParent, replaceNode,\n              hovered, setHovered,\n            }}\n            key={idx}\n            node={child}\n            count={count + idx + 1}\n          />\n        ))}\n      </Stack>\n    </>\n  )\n}\n\nconst findById = (root, id) => {\n  if(root.id === id) {\n    return root\n  }\n  for(const child of root.children) {\n    const result = findById(child, id)\n    if(result) {\n      return result\n    }\n  }\n}\n\nconst VideoSettings = ({\n  open, closeVideoSettings, info, setInfo,\n}) => {\n  if(!isSet(info.startsAt)) {\n    info.startsAt = new Date()\n  }\n  const [startsAt, setStartsAt] = useState(\n    isoStringFor(info.startsAt, { tz: false })\n  )\n\n  const save = (evt) => {\n    evt.preventDefault()\n    setInfo((info) => ({\n      ...info, startsAt: new Date(startsAt),\n    }))\n    closeVideoSettings()\n  }\n\n  return (\n    <Modal\n      size=\"xl\"\n      {...{ isOpen: open, onClose: closeVideoSettings }}\n    >\n      <ModalOverlay/>\n      <ModalContent as=\"form\" onSubmit={save}>\n        <ModalHeader\n          textOverflow=\"ellipsis\"\n          overflow=\"hidden\"\n          whiteSpace=\"nowrap\"\n        >Video Settings</ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody pb={6}>\n          <FormControl mt={4}>\n            <FormLabel>Start Time</FormLabel>\n            <Input\n              type=\"datetime-local\"\n              value={startsAt} autoFocus\n              onChange={({ target: { value }}) => {\n                setStartsAt(value)\n              }}\n            />\n          </FormControl>\n        </ModalBody>\n        <ModalFooter>\n          <Button\n            colorScheme=\"red\"\n            onClick={closeVideoSettings}\n          >Cancel</Button>\n          <Button\n            type=\"submit\"\n            colorScheme=\"blue\" ml={3}\n          >Save</Button>\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nconst DateTime = ({ startsAt, time }) => {\n  const current = (\n    new Date(startsAt.getTime() + time * 1000)\n  )\n  const opts = { date: false, tz: false }\n  return <Box alignSelf=\"center\">\n    {isoStringFor(current, opts)}\n  </Box>\n}\n\nexport default (config) => {\n  const [duration, setDuration] = (\n    useState(DEFAULT_DURATION)\n  )\n  const vid = useRef()\n  const [time, setTime] = useState(0)\n  const [raw, setRaw] = useState(\n    connect({ stops: config.stops })\n  )\n  const [stops, setStops] = useState()\n  const [hovered, setHovered] = useState([])\n  const [info, setInfo] = useState({\n    startsAt: config.startsAt,\n    source: encodeURI(config.source),\n  })\n  const { startsAt, source } = info\n  const [vidHeight, setVidHeight] = (\n    useState(DEFAULT_VID_HEIGHT)\n  )\n  const {\n    isOpen: open,\n    onOpen: openVideoSettings,\n    onClose: closeVideoSettings,\n  } = useDisclosure()\n  const src = useMemo(() => {\n    const regex = /^ipfs:(\\/\\/)?(.+)$/i\n    const match = source.match(regex)\n    if (match) {\n      if(match[2].includes('Qmeiz7YmwtVYMRSUG3VdKTxU634JTPaB5j2xLj5RREqAkG')) {\n        return 'http://bafybeihtoo2yau6rnzlfad3jh62u3wccm4bs7j7wh5wb76estw77codume.ipfs.localhost:8888/2021%E2%81%8410%E2%81%8406@09:56:54.MetaGame%E2%80%99s%20Builders%E2%80%99%20Align.x264.mp4'\n      }\n\n      return `//ipfs.io/ipfs/${match[2]}`\n    }\n    return source\n  }, [source])\n\n  useEffect(() => {\n    const stops = generate({ root: raw, duration, raw })\n    setStops(stops)\n  }, [raw, duration])\n\n  const insertChild = ({ parent, insert, anchor }) => {\n    const self = { ...findById(raw, parent.id) }\n    insert = newNode(insert)\n    insert.parent = self\n    const { children } = parent\n    const pos = (\n      anchor ? children.indexOf(anchor) : children.length\n    )\n    self.children = [\n      ...self.children.slice(0, pos + 1),\n      insert,\n      ...self.children.slice(pos + 1),\n    ]\n    const insertion = ({ children, visit }) => (\n      children.map((child) => {\n        visit({ node: child, method: insertion })\n        return child.id === self.id ? self : child\n      })\n    )\n    setRaw((raw) => {\n      return visit({ node: clone(raw), method: insertion })\n    })\n  }\n\n  const insertParent = ({ child, insert, siblings = [] }) => {\n    const rawChild = findById(raw, child.id)\n    insert.children = [rawChild, ...siblings]\n    replaceNode({\n      node: rawChild,\n      replacement: newNode(insert),\n    })\n    return insert\n  }\n\n  const replaceNode = ({ node, replacement = null }) => {\n    let outer = null\n    setRaw((raw) => {\n      const dup = outer = clone(raw)\n      const rawNode = findById(dup, node.id)\n\n      if(!rawNode) {\n        throw new Error(`Couldn't find node with id: ${node.id}`)\n      }\n\n      const { parent } = rawNode\n      const { children } = parent\n      const index = children.findIndex(\n        (child) => child.id === node.id\n      )\n      if(!replacement) {\n        children.splice(index, 1)\n      } else {\n        replacement.parent = parent\n        parent.children = [\n          ...children.slice(0, index),\n          replacement,\n          ...children.slice(index + 1),\n        ]\n      }\n      return dup\n    })\n    return outer\n  }\n\n  const seekTo = (time) => {\n    vid.current.currentTime = time\n  }\n\n  const serialize = () => {\n    const strip = (\n      ({ parent, children, visit }) => {\n        delete parent.id\n        delete parent.parent\n        if(!parent.partition) {\n          delete parent.partition\n        }\n        if(children.length === 0) {\n          delete parent.children\n        }\n        delete parent.raw\n\n        return children.map((child) => (\n          visit({ node: child, method: strip })\n        ))\n      }\n    )\n    const stripped = (\n      visit({ node: clone(raw), method: strip })\n    )\n    const metadata = {\n      video: info,\n      stops: stripped,\n    }\n    try {\n      const blob = new Blob(\n        [JSON.stringify(metadata, null, 2)],\n        { type: \"text/json\" },\n      )\n      const url = window.URL.createObjectURL(blob)\n      window.open(url, '_blank').focus()\n    } catch(error) {\n      console.error({ error })\n    }\n  }\n\n  const upload = () => {\n  }\n\n  /*\n  const clicked = (elem) => {\n    const currentClicked = info.current === elem\n    if (currentClicked && !vid.current.paused) {\n      vid.current.pause()\n    } else if (currentClicked && vid.current.paused) {\n      vid.current.play()\n    } else if (!currentClicked) {\n      vid.current.currentTime = elem.start + 0.01 // it misses\n      if (vid.current.paused) {\n        vid.current.play()\n      }\n    }\n  }\n  */\n\n  useEffect(() => {\n    const params = new URLSearchParams(window.location.search)\n    const chapterIdx = params.get('chapter')\n    if (chapterIdx) {\n      seekTo(\n        // chapters[parseInt(chapterIdx)].start\n      )\n    }\n  }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    const video = vid.current\n    const update = ({ target: { currentTime: time }}) => {\n      setTime(time)\n    }\n    video.addEventListener('timeupdate', update)\n    return () => {\n      video.removeEventListener('timeupdate', update)\n    }\n  }, [setTime])\n\n  useEffect(() => {\n    const video = vid.current\n    const set = () => setDuration(video.duration)\n    video.addEventListener('loadedmetadata', set)\n    return () => {\n      video.removeEventListener('loadedmetadata', set)\n    }\n  }, [])\n\n  console.info({ stops, raw })\n\n  return (\n    <>\n      <VideoSettings {...{\n        open, closeVideoSettings, info, setInfo,\n      }}/>\n      <Grid\n        as=\"form\"\n        templateRows=\"1fr 0fr\"\n        templateColumns=\"0fr 1fr\"\n        maxH=\"100vh\"\n      >\n        {!stops ? (\n          <GridItem id=\"spinner\" rowSpan={1} colSpan={2}>\n            <Spinner />\n          </GridItem>\n        ) : (\n          <>\n            <GridItem id=\"spans\" rowSpan={1} colSpan={1}>\n              <Times\n                {...{\n                  startsAt, duration, time,\n                  hovered, setHovered,\n                }}\n                node={stops}\n                h={`calc(100vh - ${vidHeight}px)`}\n              />\n            </GridItem>\n            <GridItem\n              id=\"events\" rowSpan={1} colSpan={1}\n              overflowY=\"scroll\"\n            >\n              <Events\n                {...{\n                  insertChild, insertParent,\n                  duration, replaceNode,\n                  hovered, setHovered,\n                }}\n                node={stops}\n              />\n            </GridItem>\n          </>\n        )}\n        <GridItem\n          id=\"video\"\n          rowSpan={1} colSpan={2}\n          maxH={vidHeight} maxW=\"100vw\"\n        >\n          <Flex maxH=\"100%\" maxW=\"100vw\">\n            <DateTime {...{ startsAt, time }}/>\n            <Video\n              flexGrow={1} controls\n              maxH=\"100%\" maxW=\"calc(100vw - 10em)\"\n              ref={vid}\n            >\n              <source {...{ src, type: 'video/mp4' }} />\n              {/* {VTT && <track default src={VTT}/>} */}\n            </Video>\n            <Flex align=\"center\">\n              <Stack>\n                <Button\n                  title=\"Edit the video information\"\n                  onClick={openVideoSettings}\n                  h=\"auto\"\n                >⚙</Button>\n                <Button\n                  title=\"Download the current configuration\"\n                  onClick={serialize}\n                  h=\"auto\"\n                >⭳</Button>\n              </Stack>\n              <Button\n                title=\"Upload to Ceramic\"\n                onClick={upload}\n              >\n                <Image\n                  minH={25} minW={25}\n                  src={CeramicLogo}\n                />\n              </Button>\n            </Flex>\n          </Flex>\n        </GridItem>\n      </Grid>\n      <Button\n        position=\"absolute\"\n        left=\"50%\" bottom={vidHeight}\n        transform=\"translate(-50%, 50%)\"\n        draggable={true} variant=\"outline\"\n        onDrag={({ clientY: y, target, type }) => {\n          const { height } = (\n            target.getBoundingClientRect()\n          )\n          if(y > 0) { // an event w/ y = 0 fires at the end\n            // ToDo: keep the button on the screen\n            setVidHeight(Math.max(\n              window.innerHeight - y,\n              height,\n            ))\n          }\n        }}\n      >⇅</Button>\n    </>\n  )\n}","import { useState, useEffect } from 'react'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { TileDocument } from '@ceramicnetwork/stream-tile'\nimport {\n  Heading, Spinner, Stack, UnorderedList, ListItem,\n} from '@chakra-ui/react'\nimport { useLocation } from 'react-router'\nimport MarkedVideo from 'MarkedVideo'\nimport { HashLink as Link } from 'react-router-hash-link'\n\nexport default () => {\n  const { pathname: path } = useLocation()\n  const metadata = path.replace(/^\\/?(.+?)\\/?$/, '$1')\n  const [info, setInfo] = useState(null)\n\n  useEffect(() => {\n    console.info({ metadata });\n    (async () => {\n      if(metadata.startsWith('ceramic://')) {\n        const CERAMIC_URL = (\n          process.env.CERAMIC_URL\n          || 'http://localhost:7007'\n          || 'https://ceramic-clay.3boxlabs.com'\n        )\n        const ceramic = new Ceramic(CERAMIC_URL)\n        const tile = await (\n          TileDocument.load(ceramic, metadata)\n        )\n        console.info({ metadata, tile: tile.content })\n        setInfo(tile.content)\n      } else if(metadata.startsWith('ipfs://')) {\n        if(metadata.endsWith('.mp4')) {\n          setInfo({\n            startsAt: new Date(),\n            stops: [{\n              title: 'Title',\n            }],\n            source: metadata,\n          })\n        } else if(metadata.endsWith('.json')) {\n          const regex = /^ipfs:(\\/\\/)?(.+)$/i\n          const match = metadata.match(regex)\n          const http = `//ipfs.io/ipfs/${match[2]}`\n          const res = await fetch(http)\n          const { video: { startsAt, source }, stops } = (\n            await res.json()\n          )\n          setInfo({\n            startsAt: new Date(startsAt), source, stops\n          })\n        }\n      } else if(metadata !== '/') {\n        setInfo(await import(`./${metadata}/js`))\n      } else {\n        console.warn('No files to load…')\n      }\n    })()\n  }, [metadata])\n\n  if(!info) {\n    return (\n      <Stack align=\"center\" mt={10}>\n        {metadata === '/' ? (\n          <UnorderedList>\n            <ListItem>\n              <Link\n                to=\"ipfs://Qmeiz7YmwtVYMRSUG3VdKTxU634JTPaB5j2xLj5RREqAkG/2021⁄10⁄06@09:56:54.MetaGame’s%20Builders’%20Align.x264.mp4\"\n              >Builders’ Align Video</Link>\n            </ListItem>\n            <ListItem>\n              <Link\n                to=\"ipfs://QmUzL5e62bahB7xP6P2jv235VQkVCUKJS6guVWL1SEnU5X/Sample%20Builders’%20Align.json\"\n              >Builders’ Align Metadata</Link>\n            </ListItem>\n          </UnorderedList>\n        ) : (\n          <>\n            <Heading size=\"sm\">{metadata}</Heading>\n            <Spinner/>\n          </>\n        )}\n      </Stack>\n    )\n  }\n\n  const { title, stops, source, startsAt } = info\n  return <MarkedVideo {...{\n    title, stops, source, startsAt,\n  }}/>\n}","import ThreeIdResolver from '@ceramicnetwork/3id-did-resolver'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { IDX } from '@ceramicstudio/idx'\nimport { DID } from 'dids'\nimport {\n  ThreeIdConnect, EthereumAuthProvider,\n} from '@3id/connect'\nimport {\n  Box, Button, Flex, FormControl, FormLabel, IconButton,\n  Input, ListItem, Modal, ModalBody, ModalCloseButton,\n  ModalContent, ModalFooter, ModalHeader, ModalOverlay,\n  Stack, Tab, TabList, TabPanel, TabPanels, Tabs,\n  UnorderedList, useDisclosure,\n} from '@chakra-ui/react'\nimport { DeleteIcon } from '@chakra-ui/icons'\nimport Markdown from 'react-markdown'\nimport { useEffect, useState, useMemo } from 'react'\nimport { TileDocument } from '@ceramicnetwork/stream-tile'\nimport { create as ipfsHTTPClient } from 'ipfs-http-client'\n\nimport ids from 'ceramicIds.json'\nimport V1 from 'w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js'\nimport V2 from 'w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js'\n\nconst CERAMIC_URL = (\n  process.env.CERAMIC_URL\n  || 'https://clay-ceramic.3boxlabs.com'\n  || 'http://localhost:7007'\n  || 'https://d12-a-ceramic.3boxlabs.com'\n)\nconst IPFS_URL = (\n  process.env.REACT_APP_IPFS_URI ?? '/ip4/127.0.0.1/tcp/5001'\n)\n\nconst DEF = ids.definitions.ConsultVideoIndex\n\nconst NewVideoModal = ({\n  isOpen, onClose, setVideos, ceramic, idx, ipfs,\n}) => {\n  const [startTime/*, setStartTime*/] = (\n    useState((new Date()).toISOString())\n  )\n  const [title/*, setTitle*/] = useState('')\n  const [url/*, setURL*/] = useState('')\n  const [tabIndex/*, setTabIndex*/] = useState(0)\n  const [creating, setCreating] = useState(null)\n\n  const video = async () => {\n    setCreating('Starting')\n    const video = { startTime, title }\n    if(tabIndex === 0) {\n      video.url = url\n    } else {\n      ipfs.add()\n    }\n    const anchorless = video.title.replace(\n      /\\[([^\\]]+)\\]\\([^)]+\\)/g, (_str, $1) => $1\n    )\n    const id = `${video.startTime}: ${anchorless}`\n    setCreating('Checking IDX for Index')\n    const videos = (await idx.get(DEF)) ?? {}\n    let tile\n    if(videos[id]) {\n      setCreating('Loading Existing Tile')\n      tile = await TileDocument.load(ceramic, videos[id])\n      console.info('Existing', tile.id.toUrl())\n    } else {\n      setCreating('Creating New Tile')\n      tile = (await TileDocument.create(\n        ceramic,\n        null,\n        {\n          schema: ids.schemas.ConsultVideoMetadata,\n          family: 'Consult Video',\n          controllers: [ceramic.did.id],\n        },\n      ))\n      console.info('created', tile.id.toUrl())\n      setCreating('Updating IDX Index')\n      const record = await (\n        idx.merge(DEF, { [id]: tile.id.toUrl() }, { pin: true })\n      )\n      console.info('added', record.toUrl())\n      videos[id] = tile.id.toUrl()\n      setVideos(Object.keys(videos))\n    }\n    setCreating('Updating Video Metadata')\n    await tile.update(video)\n    console.info('updated', id)\n    setCreating(null)\n  }\n\n  return (\n    <Modal {...{ isOpen, onClose }}>\n      <ModalOverlay/>\n      <ModalContent>\n        <ModalHeader>New Video</ModalHeader>\n        <ModalCloseButton/>\n        <ModalBody>\n        <FormControl>\n            <FormLabel>Title</FormLabel>\n            <Input/>\n          </FormControl>\n          <FormControl>\n            <FormLabel>Start Time</FormLabel>\n            <Input type=\"datetime-local\"/>\n          </FormControl>\n          <Tabs isFitted variant=\"enclosed\">\n            <TabList mb=\"1em\">\n              <Tab>URL</Tab>\n              <Tab>Upload</Tab>\n            </TabList>\n            <TabPanels>\n              <TabPanel>\n                <Input placeholder=\"ipfs://…\"/>\n              </TabPanel>\n              <TabPanel>\n                <Input type=\"file\"/>\n              </TabPanel>\n            </TabPanels>\n          </Tabs>\n        </ModalBody>\n        <ModalFooter>\n          <Button variant=\"ghost\" onClick={onClose}>Cancel</Button>\n          <Button colorScheme=\"blue\" ml={3}>\n            Save\n          </Button>\n          <Button\n            w={72} loadingText={creating}\n            onClick={video}\n            isLoading={!!creating}\n            disabled={creating !== null}\n          />\n\n        </ModalFooter>\n      </ModalContent>\n    </Modal>\n  )\n}\n\nexport default () => {\n  const ceramic = useMemo(\n    () => new Ceramic(CERAMIC_URL), []\n  )\n  const idx = useEffect(\n    () => new IDX({ ceramic, autopin: true }),\n    [ceramic],\n  )\n  const ipfs = useMemo(\n    () => new ipfsHTTPClient(IPFS_URL), []\n  )\n  const [videos, setVideos] = useState([])\n  const { isOpen, /*onOpen,*/ onClose } = useDisclosure()\n  \n  // useEffect(() => {\n  //   (async () => {\n  //     const threeIdConnect = new ThreeIdConnect()\n  //     const addresses = await window.ethereum.enable()\n  //     const authProvider = new EthereumAuthProvider(\n  //       window.ethereum, addresses[0]\n  //     )\n  //     await threeIdConnect.connect(authProvider)\n  //     const did = new DID({\n  //       provider: threeIdConnect.getDidProvider(),\n  //       resolver: ThreeIdResolver.getResolver(ceramic)\n  //     })\n  //     await did.authenticate()\n  //     ceramic.did = did\n  //     console.info('DID', did.id)\n  //   })()\n  // }, [])\n\n  // useEffect(() => {\n  //   if(ceramic && idx) {\n  //     (async () => {\n  //       const videos = await idx.get(DEF)\n  //       console.info('SET VIDS', videos)\n  //       setVideos(Object.keys(videos))\n  //     })()\n  //   }\n  // }, [ceramic, idx, DEF])\n\n  const remove = async (id) => {\n    const videos = (await idx.get(DEF)) ?? {}\n    if(!videos[id]) {\n      console.warn('Removing Nonexistent Id', id)\n    }\n    delete videos[id]\n    console.info({ videos }, Object.keys(videos))\n    await idx.set(DEF, videos)\n    console.info('SET', [])\n    setVideos([])\n  }\n\n  const loadVideos = async () => {\n    const CERAMIC_URL = (\n      process.env.CERAMIC_URL\n      || 'http://localhost:7007'\n      || 'https://ceramic-clay.3boxlabs.com'\n    )\n    const ceramic = new Ceramic(CERAMIC_URL)\n    const idx = new IDX({ ceramic, autopin: true })\n    const threeIdConnect = new ThreeIdConnect()\n    const addresses = await window.ethereum.enable()\n    console.info('adrs', addresses)\n    const authProvider = new EthereumAuthProvider(\n      window.ethereum, addresses[0]\n    )\n    await threeIdConnect.connect(authProvider)\n    const did = new DID({\n      provider: threeIdConnect.getDidProvider(),\n      resolver: ThreeIdResolver.getResolver(ceramic),\n    })\n    await did.authenticate()\n    ceramic.did = did\n    console.info(ceramic.did.id)\n\n    const metas = Object.fromEntries(\n      await Promise.all(\n        [V1, V2].map(async (video) => {\n          const anchorless = video.title.replace(\n            /\\[([^\\]]+)\\]\\([^)]+\\)/g, (_str, $1) => $1\n          )\n          const id = `${video.startTime}: ${anchorless}`\n          const tile = (await TileDocument.create(\n            ceramic,\n            video,\n            {\n              schema: ids.schemas.ConsultVideoMetadata,\n              family: 'Consult Video',\n              controllers: [ceramic.did.id],\n            },\n          ))\n          return [id, tile.id.toUrl()]\n        })\n      )\n    )\n    idx.set(\n      ids.definitions.ConsultVideoIndex,\n      metas,\n    )\n    console.info(metas)\n  }\n\n  return (\n    <Box align=\"center\" mt={10}>\n      <Stack maxW=\"50rem\" align=\"center\">\n        <Button\n          w={72}\n          // onClick={onOpen}\n          onClick={loadVideos}\n          //disabled={!ceramic || !idx}\n        >\n          New Video\n        </Button>\n        <UnorderedList>\n          {videos.map((vid) => (\n            <ListItem key={vid}><Flex justify=\"center\">\n              <Markdown>{vid}</Markdown>\n              <IconButton\n                aria-label=\"Remove\" icon={<DeleteIcon/>}\n                size=\"sm\" ml={5} onClick={() => remove(vid)}\n              />\n            </Flex></ListItem>\n          ))}\n        </UnorderedList>\n      </Stack>\n      <NewVideoModal {...{\n        isOpen, onClose, ceramic, idx, ipfs,\n      }}/>\n    </Box>\n  )\n}","import { Link } from 'react-router-dom'\nimport { Heading, ListItem, Spinner, Stack, UnorderedList } from \"@chakra-ui/react\";\nimport { ethers } from 'ethers'\nimport Ceramic from '@ceramicnetwork/http-client'\nimport { IDX } from '@ceramicstudio/idx'\nimport { DID } from 'dids'\nimport {\n  ThreeIdConnect, EthereumAuthProvider,\n} from '@3id/connect'\nimport ThreeIdResolver from '@ceramicnetwork/3id-did-resolver'\nimport { Caip10Link } from '@ceramicnetwork/stream-caip10-link'\nimport info from 'contract/address.json'\nimport abi from 'contract/abi/IDXEndpointPublisher.json'\nimport ceramicIds from 'ceramicIds.json'\nimport { useEffect, useCallback, useMemo, useState } from 'react'\n\nexport default () => {\n  const [docs, setDocs] = useState(null)\n  const provider = useMemo(() => (\n    new ethers.providers.JsonRpcProvider(\n      'https://polygon-mumbai.infura.io/v3/7ba21f9ee8d2422da87d1c35bcead48b'\n    )),\n    []\n  )\n  const ensProvider = useMemo(() => (\n    new ethers.providers.JsonRpcProvider(\n      'https://mainnet.infura.io/v3/7ba21f9ee8d2422da87d1c35bcead48b'\n    )),\n    []\n  )\n  const contract = useMemo(() => (\n    new ethers.Contract(info.address, abi, provider)\n    ),\n    [provider]\n  )\n\n  const events = useCallback(async () => {\n    const [address] = await window.ethereum.enable()\n    const filter = contract.filters.CAIP_10()\n    const events = await contract.queryFilter(filter, -90000)\n    const addrs = [...new Set(\n      ...events.map(\n        ({ args: { caip10: addr } }) => addr\n      ),\n      [`eip155:1:${address}`],\n    )]\n\n    const CERAMIC_URL = (\n      process.env.CERAMIC_URL\n      || 'http://localhost:7007'\n      || 'https://ceramic-clay.3boxlabs.com'\n    )\n    const ceramic = new Ceramic(CERAMIC_URL)\n    const idx = new IDX({ ceramic, autopin: true })\n    const threeIdConnect = new ThreeIdConnect()\n    const authProvider = new EthereumAuthProvider(\n      window.ethereum, address\n    )\n    await threeIdConnect.connect(authProvider)\n    const did = new DID({\n      provider: threeIdConnect.getDidProvider(),\n      resolver: ThreeIdResolver.getResolver(ceramic),\n    })\n    await did.authenticate()\n    ceramic.did = did\n\n    console.info({ addrs, address })\n\n    const docs = await Promise.all(\n      addrs.map(async (caip10) => {\n        let id = caip10.toLowerCase()\n        const match = id.match(\n          /^(eip155):(\\d+):(.+)$/\n        )\n        if(match) {\n          id = `${match[3]}@${match[1]}:${match[2]}`\n        }\n        const caip = await (\n          Caip10Link.fromAccount(ceramic, id)\n        )\n        const did = caip.did\n        if(did === null) {\n          throw new Error(`No DID Found for ${id}.`)\n        }\n        const index = await idx.get(\n          ceramicIds.definitions.ConsultVideoIndex,\n          did,\n        )\n        if(index === null) {\n          throw new Error(`No Index of Videos Found for ${did}.`)\n        }\n        const eth = id.replace(/@.*/, '')\n        const ens = await ensProvider.lookupAddress(eth)\n        return (\n          Object.entries(index).map(([title, url]) => ({\n            addr: ens ?? eth,\n            title,\n            url,\n          }))\n        )\n      })\n    )\n    setDocs(docs.flat())\n  }, [contract, ensProvider])\n\n  useEffect(() => events(), [events])\n\n  /*\n  const pub = () => {\n    const caip10 = 'eip155:1:0x615b044b6ccb048532bcf99aadf619d7fdd2aa01'\n    const plusSigner = contract.connect(provider.getSigner())\n    plusSigner.publish(caip10)\n  }\n  */\n \n  return (\n    !docs ? (\n      <Stack align=\"center\" mt={12}>\n        <Heading>Loading…</Heading>\n        <Spinner/>\n      </Stack>\n    ) : (\n      <UnorderedList>\n        {docs.map(({addr, title, url}, idx) => (\n          <ListItem key={idx}><Link to={url}>\n            {addr}: {title}\n          </Link></ListItem>\n        ))}\n      </UnorderedList>\n    )\n  )\n}","import View from 'View'\nimport New from 'New'\nimport ListAvailable from 'ListAvailable'\nimport {\n  HashRouter as Router, Switch, Route,\n} from 'react-router-dom'\n\nexport default () => (\n  <Router>\n    <Switch>\n      <Route exact path=\"/new\" component={New}/>\n      <Route path=\"/\" component={View}/>\n      <Route exact path=\"/\" component={ListAvailable}/>\n    </Switch>\n  </Router>\n)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ChakraProvider } from '@chakra-ui/react'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChakraProvider>\n      <App />\n    </ChakraProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n","export default {\n  '/': (\n    \"QmbEzZzhqnJmtxoFbaA5fwdjaGN2rucVEkrGCi9o5sX31J/2021-08-04@10:01:40.MetaGame Builders' Align.mp4\"\n  ),\n}","import CID from './cid'\nimport { isoStringFor } from 'utils'\n\n// Should be ذو الحجة, but the bidi isn't cooperating in VS Code\nexport const id = 'tip:w/MetaGame’s Builders/on/1442/Dhuʻl-Hijjah/25/@/1/26/‒/1/77/'\nexport const startTime = new Date('2021-08-04T10:00:30-0400')\nexport const url = `https://ipfs.io/ipfs/${CID['/']}`\nexport const title = (\n  \"Builders' Align for the Week of 1442/12/22 ‒ 28\"\n)\n\nexport const stops = {\n  '01:01': {\n    name: 'Docker Swarm',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '02:16': {\n    name: 'Vercel',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '03:24': {\n    name: 'Service User',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '04:23': {\n    name: \"Rook's Intro\",\n    speakers: ['@Rook', '@Michiel'],\n  },\n  '10:24': {\n    name: 'TomBalls Enters',\n    speakers: ['@dysbulic', '@Michiel'],\n  },\n  '11:55': {\n    name: 'dan13ram Enters',\n    speakers: ['@dan13ram', '@Michiel'],\n  },\n  '12:19': {\n    name: 'Call Starts',\n    speakers: ['@Michiel'],\n  },\n  '12:34': {\n    name: 'b0gie Presents',\n    speakers: ['@b0gie'],\n  },\n  '14:38': {\n    name: 'TomBalls Presents',\n    speakers: ['@TomBalls'],\n  },\n  '16:28': {\n    name: 'Rook Presents',\n    speakers: ['@Rook'],\n  },\n  '17:58': {\n    name: 'Service User Done',\n  },\n  '18:31': {\n    name: 'jonathanp Presents',\n    speakers: ['@jonathanp'],\n  },\n  '19:05': {\n    name: \"googoomuck Doesn't Present\",\n    speakers: ['@Michiel'],\n  },\n  '19:29': {\n    name: 'dysbulic Presents',\n    speakers: ['@dysbulic'],\n  },\n  '23:02': {\n    name: 'dan13ram Presents',\n    speakers: ['@dan13ram'],\n  },\n  '32:52': {\n    name: 'arentweall Presents',\n    speakers: ['@arentweall'],\n  },\n  '34:05': {\n    name: 'Bagholder McFomo Presents',\n    speakers: ['@Bagholder McFomo'],\n  },\n  '38:05': {\n    name: 'Michiel Presents',\n    speakers: ['@Michiel'],\n  },\n  '42:38': {\n    name: 'pΞTH Presents',\n    speakers: [\"@peth don't need your eth\"],\n  },\n  '51:16': {\n    name: \"SoureCred's Meeting Channels\",\n    speakers: ['@Michiel'],\n  },\n  '53:55': {\n    name: 'Curious & Engaged Work',\n    speakers: [\"@peth don't need your eth\", '@Michiel', '@dysbulic', '@TomBalls'],\n  },\n  '01:00:05': {\n    name: 'stepan Presents',\n    speakers: ['@stepan'],\n  }\n}\n\nexport default {\n  title,\n  startTime: isoStringFor(startTime),\n  source: url,\n  stops,\n}","const props = [\n  { bg: '#19FF20' },\n  { bg: '#FF0000BB' },\n  { bg: 'pink' },\n  { bg: 'blue', color: 'white' },\n  { bg: 'orange' },\n  { bg: 'green', color: 'white' },\n  { bg: 'teal', color: 'white' },\n  { bg: 'purple', color: 'white' },\n  { bg: 'darkgray', color: 'white' },\n  { bg: 'cyan' },\n  { bg: 'black', color: 'red' },\n]\nconst proppedTags = []\nexport const propsFor = (info) => {\n  const search = info.tags?.[0] ?? info.speakers?.[0]\n  if(!search) return { bg: 'orange' }\n\n  let idx = proppedTags.indexOf(search)\n  if(idx < 0) {\n    idx = proppedTags.length\n    proppedTags.push(search)\n  }\n  idx = idx % props.length\n  return props[idx]\n}\n\nexport const isSet = (value) => (\n  Boolean(value) || value === 0\n)\n\nexport const ifSet = (value, { default: def } = {}) => (\n  isSet(value) ? value : def\n)\n\nexport const durationFor = (str) => {\n  if(typeof str !== 'string') {\n    throw new Error(`Bad Argument: expected string, got ${typeof str}`)\n  }\n  const [from, to = from] = str.split('‒').map(timeFor)\n  return {\n    startsOffset: from,\n    duration: to - from,\n  }\n}\n\nexport const timeFor = (str, { default: def } = {}) => (\n  !isSet(str) ? def : (\n    (() => {\n      str = str.toString()\n      const [secondsStr, minutesStr, hoursStr, ...rest] = (\n        str.split(':').reverse()\n      )\n      if(rest.length >= 1) {\n        console.warn(`Got [${rest}] extraneous parameters in ${str}.`)\n      }\n      let [seconds, minutes, hours] = ([\n        parseFloat(ifSet(secondsStr) ?? 0 ),\n        parseInt(ifSet(minutesStr) ?? 0),\n        parseInt(ifSet(hoursStr) ?? 0),\n      ])\n      minutes += hours * 60\n      return seconds + minutes * 60\n    })()\n  )\n)\n\nexport const stringFor = (time, { default: def } = {}) => {\n  if(!isSet(time)) return def\n\n  const sign = time < 0 ? '−' : ''\n  const hours = Math.floor(Math.abs(time / (60 * 60)))\n  const minutes = (\n    Math.floor(Math.abs((time % (60 * 60)) / 60))\n  )\n  const seconds = Math.floor(Math.abs(time % 60))\n  const milliseconds = (\n    Math.abs(time) - Math.floor(Math.abs(time))\n  )\n\n  if(\n    ![hours, minutes, seconds, milliseconds].reduce(\n      (acc, num) => acc && !isNaN(num),\n      true\n    )\n  ) {\n    return def\n  }\n\n  let [msStr] = (\n    milliseconds.toFixed(4).split('.').slice(-1)\n  )\n  msStr = msStr.replace(/0+$/, '')\n\n  return (\n    `${sign}${\n      hours > 0 ? (\n        `${hours}:${minutes.toString().padStart(2, '0')}`\n      ) : (\n        minutes\n      )\n    }:${\n      seconds.toString().padStart(2, '0')\n    }${\n      msStr === '' ? '' : `.${msStr}`\n    }`\n  )\n}\n\nexport const isoStringFor = (date, opts = {}) => {\n  const tzo = -date.getTimezoneOffset()\n  const dif = tzo >= 0 ? '+' : '-'\n  const pad = (num) => {\n    const norm = Math.floor(Math.abs(num));\n    return (norm < 10 ? '0' : '') + norm;\n  }\n  const { dateSeparator: sep = '-' } = opts\n\n  let ret = ''\n  if(opts.date !== false) {\n    ret += (\n      date.getFullYear()\n      + sep + pad(date.getMonth() + 1)\n      + sep + pad(date.getDate())\n    )\n    if(opts.time !== false) {\n      ret += 'T'\n    }\n  }\n  if(opts.time !== false) {\n    ret += (\n      pad(date.getHours())\n      + ':' + pad(date.getMinutes())\n    )\n    if(opts.seconds ?? true) {\n      ret += ':' + pad(date.getSeconds())\n    }\n    if(opts.tz !== false) {\n      ret += `​(ᴜᴛᴄ${dif}${Math.abs(tzo / 60)}`\n      if((opts.tzMinutes ?? true) || tzo % 60 !== 0) {\n        ret += ':' + pad(tzo % 60)\n      }\n      ret += ')'\n    }\n  }\n  return ret\n}","export default {\n  '/': (\n    'QmZKXnvufBf2ZFEVqF78LPbfdEceShZ5QPubSjEViYWZ5X'\n  ),\n}","import CID from './cid'\nimport { isoStringFor } from 'utils'\n\nexport const startTime = new Date('2021-04-25T21:55:37-0400')\nexport const url = `https://ipfs.io/ipfs/${CID['/']}`\nexport const title = 'Raid Guild Initial Consultation Call w/ @joshsdoug'\n\nexport const stops = {\n  '00:00': {\n    name: 'Musical Intro',\n    tags: ['skippable']\n  },\n  '08:45': {\n    name: 'High Volume',\n    tags: ['chatter'],\n  },\n  '09:30': {\n    name: 'Blood Pressure',\n    tags: ['BP'],\n  },\n  '10:37': {\n    name: 'Bleeding Edge',\n    tags: ['pertinent'],\n  },\n  '13:06': {\n    name: 'Ceramic',\n    tags: ['pertinent'],\n  },\n  '15:26': {\n    name: 'Jitsi',\n    tags: ['logistics'],\n  },\n  '17:40': {\n    name: 'Call me “Δυς”.',\n    tags: ['personal'],\n  },\n  '18:04': {\n    name: 'Blood Pressure',\n    tags: ['BP'],\n  },\n  '18:50': {\n    name: 'Reread',\n    tags: ['skippable'],\n  },\n  '19:32': {\n    name: 'Peyote',\n    tags: ['BP'],\n  },\n  '20:16': {\n    name: 'Fractured',\n    tags: ['skippable'],\n  },\n  '20:54': {\n    name: 'BP Persistence',\n    tags: ['BP'],\n  },\n  '22:48': {\n    name: 'Reschedule',\n    tags: ['logistics'],\n  },\n  '24:06': {\n    name: 'Jitsi Found',\n    tags: ['logistics'],\n  },\n  '24:45': {\n    name: 'Stretch Goals',\n    tags: ['skippable'],\n  },\n  '25:45': {\n    name: 'Anarchism',\n    tags: ['pertinent'],\n  },\n  '26:45': {\n    name: 'Passed',\n    tags: ['personal'],\n  },\n  '28:23': {\n    name: 'Triage List',\n    tags: ['tangential'],\n  },\n  '30:08': {\n    name: 'Scattered',\n    tags: ['skippable'],\n  },\n  '33:29': {\n    name: 'Français',\n    tags: ['logistics'],\n  },\n  '35:15': {\n    name: \"Odin's Eye\",\n    tags: ['pertinent'],\n  },\n  '35:41': {\n    name: 'Hard Stop',\n    tags: ['logistics'],\n  },\n  '36:20': {\n    name: 'BP Resolution',\n    tags: ['BP'],\n  },\n  '36:43': {\n    name: 'Pairing Partners',\n    tags: ['pertinent'],\n  },\n  '37:21': {\n    name: 'Beggars in Spain',\n    tags: ['recommendation'],\n  },\n  '37:27': {\n    name: 'Ancillae',\n    tags: ['skippable'],\n  },\n  '37:53': {\n    name: 'Kubernetes',\n    tags: ['pertinent'],\n  },\n  '38:38': {\n    name: 'BP Mindlessness',\n    tags: ['BP'],\n  },\n  '40:00': {\n    name: 'Render Tree',\n    tags: ['algorithm'],\n  },\n  '41:25': {\n    name: (\n      '[Donnie Darko](https://ipfs.io/ipfs/QmTAdBoj7guxtLroQrdFTHrA1M2vSa37VQZoh4D77rdANc/Donnie.Darko.2001.mp4)'\n    ),\n    tags: ['recommendation'],\n  },\n  '43:42': {\n    name: 'Kinesthetic Reasoning',\n    tags: ['psych'],\n  },\n  '44:19': {\n    name: 'T-minus 5 Minutes',\n    tags: ['logistics'],\n  },\n  '44:52': {\n    name: '¿Will it happen?',\n    tags: ['pitch', 'pertinent'],\n  },\n  '46:27': {\n    name: 'Revolution through Election',\n    tags: ['pertinent'],\n  },\n  '47:22': {\n    name: '¿What year is it?',\n    tags: ['pitch', 'pertinent'],\n  },\n  '49:45': {\n    name: '1968',\n    tags: ['pertinent'],\n  },\n  '50:35': {\n    name: 'Dissatisfied',\n    tags: ['logistics'],\n  },\n  '52:48': {\n    name: '¿Make Sense?',\n    tags: ['pertinent'],\n  },\n  '53:26': {\n    name: \"Inch'allah\",\n    tags: ['logistics'],\n  },\n  '53:34': {\n    name: 'Euthanasia',\n    tags: ['personal'],\n  },\n  '54:04': {\n    name: 'Dead Air',\n    tags: ['skippable'],\n  },\n}\n\nexport default {\n  title,\n  startTime: isoStringFor(startTime),\n  source: url,\n  stops,\n}","var map = {\n\t\"./w/@dysbulic & @Huxwell/2021/08/24/@/15/32/04/‒/17/40/05/T/−4/js\": [\n\t\t1295,\n\t\t4\n\t],\n\t\"./w/MetaGame’s Builders/on/-3/♋/7/@/1/26/‒/1/78/js\": [\n\t\t896,\n\t\t0\n\t],\n\t\"./w/MetaGame’s Builders/on/-3/♌/1/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/12/25/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/Dhuʻl-Hijjah/25/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/1442/ذو الحجة/25/@/1/27/‒/1/77/js\": [\n\t\t312\n\t],\n\t\"./w/MetaGame’s Builders/on/2021/07/14/@/10/00/ᴇᴛ/‒/11/30/ᴇᴛ/js\": [\n\t\t896,\n\t\t0\n\t],\n\t\"./w/Raid Guild/cleric/@joshsdoug/1/js\": [\n\t\t658\n\t],\n\t\"./w/Raid Guild/on/0/♈/15/@/9/13/‒/9/52/js\": [\n\t\t658\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 998;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}